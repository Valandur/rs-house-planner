import{S as Ls,i as Ds,s as Ss,k as h,a as H,q as O,l as _,m as v,c as R,h as n,r as P,n as b,J as Hs,b as q,G as a,K as vt,L as Le,M as dt,u as j,H as Kt,N as De,O as _l,I as Rs,o as Is,p as ce,e as mt,P as We,Q as Ns}from"../chunks/index.a8a550d7.js";import{p as Os}from"../chunks/stores.58e1cc77.js";import{j as Ae}from"../chunks/singletons.75e9f79c.js";Ae.disable_scroll_handling;const Vt=Ae.goto;Ae.invalidate;Ae.invalidateAll;Ae.preload_data;Ae.preload_code;Ae.before_navigate;Ae.after_navigate;var Ye=(t=>(t[t.North=0]="North",t[t.East=1]="East",t[t.South=2]="South",t[t.West=3]="West",t))(Ye||{});const jl=t=>Ye[t].toLowerCase(),cl=(t,e=1)=>(t+=e)%4,Ps={exit_portal:{name:"Exit Portal",minLvl:1,exp:100,materials:{iron_bar:10}},decorative_rock:{name:"Decorative Rock",minLvl:5,exp:100,materials:{limestone_brick:5}},pond:{name:"Pond",minLvl:10,exp:100,materials:{soft_clay:10}},imp_statue:{name:"Imp Statue",minLvl:15,exp:150,materials:{limestone_brick:5,soft_clay:5}},dungeon_entrance:{name:"Dungeon Entrance",minLvl:70,exp:500,materials:{marble_block:1}},plant:{name:"Plant",minLvl:1,exp:31,materials:{bagged_plant_1:1}},small_fern:{name:"Small Fern",minLvl:6,exp:70,materials:{bagged_plant_2:1}},fern:{name:"Fern",minLvl:12,exp:100,materials:{bagged_plant_3:1}},dock_leaf:{name:"Dock Leaf",minLvl:1,exp:31,materials:{bagged_plant_1:1}},thistle:{name:"Thistle",minLvl:6,exp:70,materials:{bagged_plant_2:1}},reeds:{name:"Reeds",minLvl:12,exp:100,materials:{bagged_plant_3:1}}},k=Ye,ys={garden:{name:"Garden",cost:1e3,minLvl:1,doors:[k.North,k.East,k.South,k.West],bg:"#034a03",furnitureHotspots:{centrepiece:{name:"Centrepiece",optionKeys:["exit_portal","decorative_rock","pond","imp_statue","dungeon_entrance"]},tree:{name:"Tree",optionKeys:[]},big_tree:{name:"Big Tree",optionKeys:[]},small_plant_1:{name:"Small Plant 1",optionKeys:["plant","small_fern","fern"]},small_plant_2:{name:"Small Plant 2",optionKeys:["dock_leaf","thistle","reeds"]},big_plant_1:{name:"Big Plant 1",optionKeys:[]},big_plant_2:{name:"Big Plant 2",optionKeys:[]}},open:!0,floors:[0]},parlour:{name:"Parlour",cost:1e3,minLvl:1,doors:[k.East,k.South,k.West],bg:"#424242",furnitureHotspots:{}},kitchen:{name:"Kitchen",cost:5e3,minLvl:5,doors:[k.East,k.South],bg:"#542808",furnitureHotspots:{}},dining_room:{name:"Dining Room",cost:5e3,minLvl:10,doors:[k.East,k.South,k.West],bg:"#424242",furnitureHotspots:{}},workshop:{name:"Workshop",cost:1e4,minLvl:15,doors:[k.North,k.South],bg:"#542808",furnitureHotspots:{}},bedroom:{name:"Bedroom",cost:1e4,minLvl:20,doors:[k.East,k.South],bg:"#424242",furnitureHotspots:{}},skill_hall:{name:"Skill Hall",cost:15e3,minLvl:25,doors:[k.North,k.East,k.South,k.West],bg:"#3f0569",furnitureHotspots:{},stairs:!0},games_room:{name:"Games Room",cost:25e3,minLvl:30,doors:[k.East,k.South,k.West],bg:"#731e4c",furnitureHotspots:{}},combat_room:{name:"Combat Room",cost:25e3,minLvl:30,doors:[k.East,k.South,k.West],bg:"#731e4c",furnitureHotspots:{}},quest_hall:{name:"Quest Hall",cost:25e3,minLvl:32,doors:[k.North,k.East,k.South,k.West],bg:"#3f0569",furnitureHotspots:{},stairs:!0},menagerie:{name:"Menagerie",cost:3e4,minLvl:37,doors:[k.North,k.East,k.South,k.West],bg:"#034a03",furnitureHotspots:{},open:!0,floors:[0]},study:{name:"Study",cost:5e4,minLvl:40,doors:[k.East,k.South,k.West],bg:"#542808",furnitureHotspots:{}},costume_room:{name:"Costume Room",cost:5e4,minLvl:42,doors:[k.South],bg:"#731e4c",furnitureHotspots:{}},chapel:{name:"Chapel",cost:5e4,minLvl:45,doors:[k.East,k.South],bg:"#542808",furnitureHotspots:{}},portal_chamber:{name:"Portal Chamber",cost:1e5,minLvl:50,doors:[k.South],bg:"#542808",furnitureHotspots:{}},formal_garden:{name:"Formal Garden",cost:75e3,minLvl:55,doors:[k.North,k.East,k.South,k.West],bg:"#034a03",furnitureHotspots:{},open:!0,floors:[0]},throne_room:{name:"Throne Room",cost:15e4,minLvl:60,doors:[k.South],bg:"#040459",furnitureHotspots:{},floors:[0]},aquarium:{name:"Aquarium",cost:2e5,minLvl:63,doors:[k.North,k.East,k.South,k.West],bg:"#542808",furnitureHotspots:{},floors:[0]},oubliette:{name:"Oubliette",cost:15e4,minLvl:65,doors:[k.North,k.East,k.South,k.West],bg:"#800303",furnitureHotspots:{},floors:[-1]},dungeon_corridor:{name:"Dungeon Corridor",cost:7500,minLvl:70,doors:[k.North,k.South],bg:"#800303",furnitureHotspots:{},floors:[-1]},dungeon_junction:{name:"Dungeon Junction",cost:7500,minLvl:70,doors:[k.North,k.East,k.South,k.West],bg:"#800303",furnitureHotspots:{},floors:[-1]},dungeon_stairs:{name:"Dungeon Stairs",cost:7500,minLvl:70,doors:[k.North,k.East,k.South,k.West],bg:"#800303",furnitureHotspots:{},stairs:!0,floors:[-1]},dungeon_pit:{name:"Dungeon Pit",cost:1e4,minLvl:70,doors:[k.North,k.East,k.South,k.West],bg:"#800303",furnitureHotspots:{},floors:[-1]},treasure_room:{name:"Treasure Room",cost:25e4,minLvl:75,doors:[k.South],bg:"#800303",furnitureHotspots:{},floors:[-1]}},ul=Object.entries(ys).sort(([,t],[,e])=>t.name.localeCompare(e.name)),de=9,Te=9,Vs=t=>{const e=[];for(const l of t){const s=[];for(let o=0;o<Te;o++){s.push([]);for(let r=0;r<de;r++){const i=l[o][r];if(!i){s[o].push(null);continue}const d=ys[i.typeKey];s[o].push({...i,x:r,y:o,type:d,doors:d.doors.map(m=>cl(m,i.orientation)).map(m=>({key:m,name:jl(m),connected:!1})),orientationName:jl(i.orientation),furnitureHotspots:Object.entries(d.furnitureHotspots).map(([m,y])=>({...y,key:m,options:y.optionKeys.map(f=>({...Ps[f],key:f}))}))})}}for(let o=0;o<Te;o++)for(let r=0;r<de;r++){const i=s[o][r];if(!i)continue;const d={[Ye.North]:o===0?null:s[o-1][r],[Ye.East]:r>=s[o].length-1?null:s[o][r+1],[Ye.South]:o>=s.length-1?null:s[o+1][r],[Ye.West]:r===0?null:s[o][r-1]};for(const m of i.doors){const y=d[m.key];y&&(m.connected=y.doors.some(f=>f.key===cl(m.key,2)))}}e.push(s)}return e},ks=()=>{const t=[];for(let e=0;e<Te;e++){t.push([]);for(let l=0;l<de;l++)t[e].push(null)}return t},fl=-1,hl=1,Ts=[];for(let t=fl;t<=hl;t++)Ts.push(t);const we=Ts,Ie=[{level:0,rooms:0,extent:[0,0]},{level:1,rooms:21,extent:[3,3]},{level:15,rooms:21,extent:[4,4]},{level:30,rooms:21,extent:[5,5]},{level:38,rooms:22,extent:[5,5]},{level:44,rooms:23,extent:[5,5]},{level:45,rooms:23,extent:[6,6]},{level:50,rooms:24,extent:[6,6]},{level:56,rooms:25,extent:[6,6]},{level:60,rooms:25,extent:[7,7]},{level:62,rooms:26,extent:[7,7]},{level:68,rooms:27,extent:[7,7]},{level:74,rooms:28,extent:[7,7]},{level:80,rooms:29,extent:[7,7]},{level:86,rooms:30,extent:[7,7]},{level:92,rooms:31,extent:[7,7]},{level:96,rooms:32,extent:[7,7]},{level:99,rooms:33,extent:[7,7]}],Cs=t=>{const e=t.flat(2).filter(c=>!!c).map(c=>c),l=ul.map(([c,p])=>({type:p,rooms:e.filter(L=>L.typeKey===c)})).sort((c,p)=>p.rooms.length-c.rooms.length);let s=0,o=de,r=Te,i=0,d=0,m=null;const y=[];for(const c of e)s+=c.type.cost,m=m&&c.type.minLvl<=m.type.minLvl?m:c,o=Math.min(o,c.x),i=Math.max(i,c.x),r=Math.min(r,c.y),d=Math.max(d,c.y);const f=[];if(m&&f.push({name:"Highest Level Room",value:m.type.name,limit:"-",level:m.type.minLvl}),e.length>0){const c=Ie.find(p=>p.rooms>=e.length);if(c)f.push({name:"Number of Rooms",value:e.length,limit:c.rooms,level:c.level});else{const p=Ie[Ie.length-1].rooms;y.push(`You have too many rooms (${e.length})! You cannot have more than ${p}`)}}const u=Math.max(0,i-o+1);if(u>0){const c=Ie.find(p=>p.extent[0]>=u);if(c)f.push({name:"Extent X",value:u,limit:c.extent[0],level:c.level});else{const p=Ie[Ie.length-1].extent[0];y.push(`Your house is too wide (${u})! It can be at most ${p} wide`)}}const E=Math.max(0,d-r+1);if(E>0){const c=Ie.find(p=>p.extent[1]>=E);if(c)f.push({name:"Extent Y",value:E,limit:c.extent[1],level:c.level});else{const p=Ie[Ie.length-1].extent[1];y.push(`Your house is too tall (${E})! It can be at most ${p} tall`)}}return f.sort((c,p)=>p.level-c.level),{groupedRooms:l,totalPrice:s,levelRequirements:f,extent:[u,E],errors:y}},Ks=(t,e)=>{if(!t)return null;const l=Object.entries(t.furnitureKeys).filter(([,s])=>!!s).map(([s,o])=>`${s}:${o}`).join("-");return`${e}-${t.typeKey}-${t.orientation}-${l}`},Ct=t=>{const e=new URLSearchParams;for(let l=0;l<we.length;l++){const s=t[l].flat().map(Ks).filter(o=>!!o).join(",");e.set(`f${we[l]}`,btoa(s))}return e},qs=t=>{const e=t.split("-"),l={};for(let s=3;s<e.length;s++){const o=e[s].split(":");l[o[0]]=o[1]}return[Number(e[0]),{typeKey:e[1],orientation:Number(e[2]),furnitureKeys:l}]},Ms=t=>{const e=[];for(let l=0;l<we.length;l++){const s=ks(),o=t.get(`f${we[l]}`);if(o){console.log(atob(o));const r=atob(o).split(",").map(qs);for(const[i,d]of r)s[Math.floor(i/de)][i%de]=d}e.push(s)}return e};function Xl(t,e,l){const s=t.slice();return s[24]=e[l].type,s[25]=e[l].rooms,s}function Gl(t,e,l){const s=t.slice();return s[28]=e[l],s}function Zl(t,e,l){const s=t.slice();return s[34]=e[l],s}function Jl(t,e,l){const s=t.slice();return s[37]=e[l],s}function nl(t){const e=t.slice(),l=[e[2],e[3],e[10][e[3]][e[2]]];return e[31]=l[0],e[32]=l[1],e[33]=l[2],e}function Ql(t,e,l){const s=t.slice();return s[40]=e[l],s}function zl(t,e,l){const s=t.slice();return s[43]=e[l],s[11]=l,s}function $l(t,e,l){const s=t.slice();s[49]=e[l][0],s[24]=e[l][1];const o=s[24].floors&&!s[24].floors.includes(s[11]);return s[50]=o,s}function il(t){var d,m;const e=t.slice(),l=[e[2],e[3]];e[31]=l[0],e[32]=l[1];const s=100/e[10].length;e[45]=s;const o=100/e[10][e[32]].length;e[46]=o;const r=(d=e[1][e[0]-1])==null?void 0:d[e[32]][e[31]];e[47]=r;const i=(m=e[1][e[0]+1])==null?void 0:m[e[32]][e[31]];return e[48]=i,e}function xl(t,e,l){const s=t.slice();return s[53]=e[l],s[32]=l,s}function es(t,e,l){const s=t.slice();s[33]=e[l],s[31]=l;const o=s[31]===s[2]&&s[32]===s[3];return s[55]=o,s}function ts(t,e,l){const s=t.slice();return s[57]=e[l].name,s[58]=e[l].connected,s}function Bs(t){var s;const e=t.slice(),l=(s=e[1][e[0]-1])==null?void 0:s[e[32]][e[31]];return e[47]=l,e}function ls(t){let e,l=t[47]&&ss(t);return{c(){e=h("div"),l&&l.c(),this.h()},l(s){e=_(s,"DIV",{class:!0});var o=v(e);l&&l.l(o),o.forEach(n),this.h()},h(){b(e,"class","content svelte-12s60ya"),We(e,"below",!!t[47]),We(e,"supported",t[47]&&!t[47].type.open)},m(s,o){q(s,e,o),l&&l.m(e,null)},p(s,o){s[47]?l?l.p(s,o):(l=ss(s),l.c(),l.m(e,null)):l&&(l.d(1),l=null),o[0]&3&&We(e,"below",!!s[47]),o[0]&3&&We(e,"supported",s[47]&&!s[47].type.open)},d(s){s&&n(e),l&&l.d()}}}function Ws(t){let e,l,s,o,r=t[33].type.name+"",i,d,m,y=t[33].doors,f=[];for(let u=0;u<y.length;u+=1)f[u]=os(ts(t,y,u));return{c(){e=h("div"),l=H(),s=h("div"),o=h("div"),i=O(r),d=H();for(let u=0;u<f.length;u+=1)f[u].c();m=mt(),this.h()},l(u){e=_(u,"DIV",{class:!0}),v(e).forEach(n),l=R(u),s=_(u,"DIV",{class:!0});var E=v(s);o=_(E,"DIV",{class:!0});var c=v(o);i=P(c,r),c.forEach(n),E.forEach(n),d=R(u);for(let p=0;p<f.length;p+=1)f[p].l(u);m=mt(),this.h()},h(){b(e,"class","marker svelte-12s60ya"),ce(e,"background-color",t[33].type.color),b(o,"class","title svelte-12s60ya"),b(s,"class","content svelte-12s60ya"),ce(s,"color",t[33].type.color),ce(s,"background-color",t[33].type.bg)},m(u,E){q(u,e,E),q(u,l,E),q(u,s,E),a(s,o),a(o,i),q(u,d,E);for(let c=0;c<f.length;c+=1)f[c]&&f[c].m(u,E);q(u,m,E)},p(u,E){if(E[0]&1024&&ce(e,"background-color",u[33].type.color),E[0]&1024&&r!==(r=u[33].type.name+"")&&j(i,r),E[0]&1024&&ce(s,"color",u[33].type.color),E[0]&1024&&ce(s,"background-color",u[33].type.bg),E[0]&1024){y=u[33].doors;let c;for(c=0;c<y.length;c+=1){const p=ts(u,y,c);f[c]?f[c].p(p,E):(f[c]=os(p),f[c].c(),f[c].m(m.parentNode,m))}for(;c<f.length;c+=1)f[c].d(1);f.length=y.length}},d(u){u&&n(e),u&&n(l),u&&n(s),u&&n(d),De(f,u),u&&n(m)}}}function ss(t){let e,l=t[47].type.name+"",s;return{c(){e=h("div"),s=O(l),this.h()},l(o){e=_(o,"DIV",{class:!0});var r=v(e);s=P(r,l),r.forEach(n),this.h()},h(){b(e,"class","title svelte-12s60ya")},m(o,r){q(o,e,r),a(e,s)},p(o,r){r[0]&3&&l!==(l=o[47].type.name+"")&&j(s,l)},d(o){o&&n(e)}}}function os(t){let e,l;return{c(){e=h("div"),this.h()},l(s){e=_(s,"DIV",{class:!0}),v(e).forEach(n),this.h()},h(){b(e,"class",l="door "+t[57]+" svelte-12s60ya"),We(e,"connected",t[58])},m(s,o){q(s,e,o)},p(s,o){o[0]&1024&&l!==(l="door "+s[57]+" svelte-12s60ya")&&b(e,"class",l),o[0]&1024&&We(e,"connected",s[58])},d(s){s&&n(e)}}}function as(t){let e;return{c(){e=h("div"),this.h()},l(l){e=_(l,"DIV",{class:!0}),v(e).forEach(n),this.h()},h(){b(e,"class","selected svelte-12s60ya")},m(l,s){q(l,e,s)},d(l){l&&n(e)}}}function rs(t){let e,l,s,o,r;function i(c,p){return c[33]!==null?Ws:ls}function d(c,p){return p===ls?Bs(c):c}let m=i(t),y=m(d(t,m)),f=t[55]&&as();function u(){return t[13](t[31],t[32])}function E(){return t[14](t[31],t[32])}return{c(){e=h("div"),y.c(),l=H(),f&&f.c(),this.h()},l(c){e=_(c,"DIV",{class:!0});var p=v(e);y.l(p),l=R(p),f&&f.l(p),p.forEach(n),this.h()},h(){var c;b(e,"class",s="cell "+(((c=t[33])==null?void 0:c.orientation)||"")+" svelte-12s60ya")},m(c,p){q(c,e,p),y.m(e,null),a(e,l),f&&f.m(e,null),o||(r=[Le(e,"click",dt(u)),Le(e,"keypress",dt(E))],o=!0)},p(c,p){var L;t=c,m===(m=i(t))&&y?y.p(d(t,m),p):(y.d(1),y=m(d(t,m)),y&&(y.c(),y.m(e,l))),t[55]?f||(f=as(),f.c(),f.m(e,null)):f&&(f.d(1),f=null),p[0]&1024&&s!==(s="cell "+(((L=t[33])==null?void 0:L.orientation)||"")+" svelte-12s60ya")&&b(e,"class",s)},d(c){c&&n(e),y.d(),f&&f.d(),o=!1,_l(r)}}}function ns(t){let e,l=t[53],s=[];for(let o=0;o<l.length;o+=1)s[o]=rs(es(t,l,o));return{c(){e=h("div");for(let o=0;o<s.length;o+=1)s[o].c();this.h()},l(o){e=_(o,"DIV",{class:!0});var r=v(e);for(let i=0;i<s.length;i+=1)s[i].l(r);r.forEach(n),this.h()},h(){b(e,"class","row svelte-12s60ya")},m(o,r){q(o,e,r);for(let i=0;i<s.length;i+=1)s[i]&&s[i].m(e,null)},p(o,r){if(r[0]&1071){l=o[53];let i;for(i=0;i<l.length;i+=1){const d=es(o,l,i);s[i]?s[i].p(d,r):(s[i]=rs(d),s[i].c(),s[i].m(e,null))}for(;i<s.length;i+=1)s[i].d(1);s.length=l.length}},d(o){o&&n(e),De(s,o)}}}function is(t){let e;function l(r,i){return r[11]>0&&(!r[47]||r[47].type.open)?ws:Ys}let s=l(t),o=s(t);return{c(){e=h("div"),o.c(),this.h()},l(r){e=_(r,"DIV",{class:!0});var i=v(e);o.l(i),i.forEach(n),this.h()},h(){b(e,"class","popup svelte-12s60ya"),ce(e,"top",t[32]<Te/2?`${t[45]*(t[32]+1)}%`:""),ce(e,"bottom",t[32]>=Te/2?`${t[45]*(Te-t[32])}%`:""),ce(e,"left",t[31]<de/2?`${t[46]*t[31]}%`:""),ce(e,"right",t[31]>=de/2?`${t[46]*(de-t[31]-1)}%`:"")},m(r,i){q(r,e,i),o.m(e,null)},p(r,i){s===(s=l(r))&&o?o.p(r,i):(o.d(1),o=s(r),o&&(o.c(),o.m(e,null))),i[0]&1036&&ce(e,"top",r[32]<Te/2?`${r[45]*(r[32]+1)}%`:""),i[0]&1036&&ce(e,"bottom",r[32]>=Te/2?`${r[45]*(Te-r[32])}%`:""),i[0]&1036&&ce(e,"left",r[31]<de/2?`${r[46]*r[31]}%`:""),i[0]&1036&&ce(e,"right",r[31]>=de/2?`${r[46]*(de-r[31]-1)}%`:"")},d(r){r&&n(e),o.d()}}}function Ys(t){let e,l,s,o,r,i,d,m,y,f,u=ul,E=[];for(let N=0;N<u.length;N+=1)E[N]=cs($l(t,u,N));function c(...N){return t[15](t[31],t[32],...N)}let p=t[10][t[32]][t[31]]&&us(t),L=t[48]&&fs();return{c(){e=h("div"),l=h("select"),s=h("option"),o=O("Pick a room...");for(let N=0;N<E.length;N+=1)E[N].c();i=H(),p&&p.c(),d=H(),L&&L.c(),m=mt(),this.h()},l(N){e=_(N,"DIV",{class:!0});var S=v(e);l=_(S,"SELECT",{class:!0});var I=v(l);s=_(I,"OPTION",{});var T=v(s);o=P(T,"Pick a room..."),T.forEach(n);for(let V=0;V<E.length;V+=1)E[V].l(I);I.forEach(n),i=R(S),p&&p.l(S),S.forEach(n),d=R(N),L&&L.l(N),m=mt(),this.h()},h(){s.__value="",s.value=s.__value,s.disabled=!0,s.selected=!0,b(l,"class","svelte-12s60ya"),b(e,"class","svelte-12s60ya")},m(N,S){var I;q(N,e,S),a(e,l),a(l,s),a(s,o);for(let T=0;T<E.length;T+=1)E[T]&&E[T].m(l,null);vt(l,((I=t[10][t[32]][t[31]])==null?void 0:I.typeKey)||""),a(e,i),p&&p.m(e,null),q(N,d,S),L&&L.m(N,S),q(N,m,S),y||(f=Le(l,"change",c),y=!0)},p(N,S){var I,T;if(t=N,S[0]&2048){u=ul;let V;for(V=0;V<u.length;V+=1){const Y=$l(t,u,V);E[V]?E[V].p(Y,S):(E[V]=cs(Y),E[V].c(),E[V].m(l,null))}for(;V<E.length;V+=1)E[V].d(1);E.length=u.length}S[0]&1036&&r!==(r=((I=t[10][t[32]][t[31]])==null?void 0:I.typeKey)||"")&&vt(l,((T=t[10][t[32]][t[31]])==null?void 0:T.typeKey)||""),t[10][t[32]][t[31]]?p?p.p(t,S):(p=us(t),p.c(),p.m(e,null)):p&&(p.d(1),p=null),t[48]?L||(L=fs(),L.c(),L.m(m.parentNode,m)):L&&(L.d(1),L=null)},d(N){N&&n(e),De(E,N),p&&p.d(),N&&n(d),L&&L.d(N),N&&n(m),y=!1,f()}}}function ws(t){let e,l;return{c(){e=h("p"),l=O("There is no supporting room below!"),this.h()},l(s){e=_(s,"P",{class:!0});var o=v(e);l=P(o,"There is no supporting room below!"),o.forEach(n),this.h()},h(){b(e,"class","svelte-12s60ya")},m(s,o){q(s,e,o),a(e,l)},p:Kt,d(s){s&&n(e)}}}function cs(t){var m;let e,l=t[24].name+"",s,o=t[50]?` (floors: ${(m=t[24].floors)==null?void 0:m.join(", ")})`:"",r,i,d;return{c(){e=h("option"),s=O(l),r=O(o),i=H(),this.h()},l(y){e=_(y,"OPTION",{});var f=v(e);s=P(f,l),r=P(f,o),i=R(f),f.forEach(n),this.h()},h(){e.disabled=d=t[50],e.__value=t[49],e.value=e.__value},m(y,f){q(y,e,f),a(e,s),a(e,r),a(e,i)},p(y,f){var u;f[0]&2048&&o!==(o=y[50]?` (floors: ${(u=y[24].floors)==null?void 0:u.join(", ")})`:"")&&j(r,o),f[0]&2048&&d!==(d=y[50])&&(e.disabled=d)},d(y){y&&n(e)}}}function us(t){let e,l,s,o,r,i,d,m;function y(){return t[16](t[31],t[32])}function f(){return t[17](t[31],t[32])}return{c(){e=h("button"),l=h("i"),s=H(),o=h("button"),r=h("i"),this.h()},l(u){e=_(u,"BUTTON",{class:!0});var E=v(e);l=_(E,"I",{class:!0}),v(l).forEach(n),E.forEach(n),s=R(u),o=_(u,"BUTTON",{class:!0});var c=v(o);r=_(c,"I",{class:!0}),v(r).forEach(n),c.forEach(n),this.h()},h(){b(l,"class","icofont-ui-rotation"),b(e,"class","rotate svelte-12s60ya"),b(r,"class","icofont-ui-delete"),b(o,"class","remove svelte-12s60ya"),o.disabled=i=!!t[48]},m(u,E){q(u,e,E),a(e,l),q(u,s,E),q(u,o,E),a(o,r),d||(m=[Le(e,"click",dt(y)),Le(o,"click",dt(f))],d=!0)},p(u,E){t=u,E[0]&15&&i!==(i=!!t[48])&&(o.disabled=i)},d(u){u&&n(e),u&&n(s),u&&n(o),d=!1,_l(m)}}}function fs(t){let e,l;return{c(){e=h("p"),l=O("This room is acting as a support for the one above it!"),this.h()},l(s){e=_(s,"P",{class:!0});var o=v(e);l=P(o,"This room is acting as a support for the one above it!"),o.forEach(n),this.h()},h(){b(e,"class","svelte-12s60ya")},m(s,o){q(s,e,o),a(e,l)},d(s){s&&n(e)}}}function hs(t){let e,l,s=t[43]+"",o;return{c(){e=h("option"),l=O("Floor "),o=O(s),this.h()},l(r){e=_(r,"OPTION",{});var i=v(e);l=P(i,"Floor "),o=P(i,s),i.forEach(n),this.h()},h(){e.__value=t[11],e.value=e.__value},m(r,i){q(r,e,i),a(e,l),a(e,o)},p:Kt,d(r){r&&n(e)}}}function _s(t){let e,l,s,o,r,i=t[9].errors,d=[];for(let m=0;m<i.length;m+=1)d[m]=vs(Ql(t,i,m));return{c(){e=h("div"),l=h("h2"),s=O("Errors"),o=H(),r=h("div");for(let m=0;m<d.length;m+=1)d[m].c();this.h()},l(m){e=_(m,"DIV",{class:!0});var y=v(e);l=_(y,"H2",{class:!0});var f=v(l);s=P(f,"Errors"),f.forEach(n),o=R(y),r=_(y,"DIV",{class:!0});var u=v(r);for(let E=0;E<d.length;E+=1)d[E].l(u);u.forEach(n),y.forEach(n),this.h()},h(){b(l,"class","svelte-12s60ya"),b(r,"class","alerts svelte-12s60ya"),b(e,"class","svelte-12s60ya")},m(m,y){q(m,e,y),a(e,l),a(l,s),a(e,o),a(e,r);for(let f=0;f<d.length;f+=1)d[f]&&d[f].m(r,null)},p(m,y){if(y[0]&512){i=m[9].errors;let f;for(f=0;f<i.length;f+=1){const u=Ql(m,i,f);d[f]?d[f].p(u,y):(d[f]=vs(u),d[f].c(),d[f].m(r,null))}for(;f<d.length;f+=1)d[f].d(1);d.length=i.length}},d(m){m&&n(e),De(d,m)}}}function vs(t){let e,l=t[40]+"",s;return{c(){e=h("div"),s=O(l),this.h()},l(o){e=_(o,"DIV",{class:!0});var r=v(e);s=P(r,l),r.forEach(n),this.h()},h(){b(e,"class","alert error svelte-12s60ya")},m(o,r){q(o,e,r),a(e,s)},p(o,r){r[0]&512&&l!==(l=o[40]+"")&&j(s,l)},d(o){o&&n(e)}}}function ds(t){let e,l=t[33]&&ms(t);return{c(){l&&l.c(),e=mt()},l(s){l&&l.l(s),e=mt()},m(s,o){l&&l.m(s,o),q(s,e,o)},p(s,o){s[33]?l?l.p(s,o):(l=ms(s),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},d(s){l&&l.d(s),s&&n(e)}}}function ms(t){let e,l,s,o,r,i,d,m,y,f,u,E=t[33].type.name+"",c,p,L,N,S,I,T,V=t[33].type.cost+"",Y,W,C,J,ie,ve,K,M=t[33].type.minLvl+"",F,oe,ee,ge,Ee,ue,ae,fe,ye=t[33].furnitureHotspots,X=[];for(let B=0;B<ye.length;B+=1)X[B]=bs(Zl(t,ye,B));return{c(){e=h("div"),l=h("h2"),s=O("Details"),o=H(),r=h("table"),i=h("tbody"),d=h("tr"),m=h("td"),y=O("Name"),f=H(),u=h("td"),c=O(E),p=H(),L=h("tr"),N=h("td"),S=O("Cost"),I=H(),T=h("td"),Y=O(V),W=H(),C=h("tr"),J=h("td"),ie=O("Min. Level"),ve=H(),K=h("td"),F=O(M),oe=H(),ee=h("div"),ge=h("h3"),Ee=O("Furniture"),ue=H(),ae=h("table"),fe=h("tbody");for(let B=0;B<X.length;B+=1)X[B].c();this.h()},l(B){e=_(B,"DIV",{class:!0});var G=v(e);l=_(G,"H2",{class:!0});var U=v(l);s=P(U,"Details"),U.forEach(n),o=R(G),r=_(G,"TABLE",{class:!0});var Se=v(r);i=_(Se,"TBODY",{});var re=v(i);d=_(re,"TR",{class:!0});var me=v(d);m=_(me,"TD",{class:!0});var Xe=v(m);y=P(Xe,"Name"),Xe.forEach(n),f=R(me),u=_(me,"TD",{class:!0});var Ge=v(u);c=P(Ge,E),Ge.forEach(n),me.forEach(n),p=R(re),L=_(re,"TR",{class:!0});var he=v(L);N=_(he,"TD",{class:!0});var Ne=v(N);S=P(Ne,"Cost"),Ne.forEach(n),I=R(he),T=_(he,"TD",{class:!0});var Fe=v(T);Y=P(Fe,V),Fe.forEach(n),he.forEach(n),W=R(re),C=_(re,"TR",{class:!0});var Oe=v(C);J=_(Oe,"TD",{class:!0});var Pe=v(J);ie=P(Pe,"Min. Level"),Pe.forEach(n),ve=R(Oe),K=_(Oe,"TD",{class:!0});var Ue=v(K);F=P(Ue,M),Ue.forEach(n),Oe.forEach(n),re.forEach(n),Se.forEach(n),G.forEach(n),oe=R(B),ee=_(B,"DIV",{class:!0});var Ve=v(ee);ge=_(Ve,"H3",{class:!0});var pe=v(ge);Ee=P(pe,"Furniture"),pe.forEach(n),ue=R(Ve),ae=_(Ve,"TABLE",{class:!0});var He=v(ae);fe=_(He,"TBODY",{});var Ze=v(fe);for(let je=0;je<X.length;je+=1)X[je].l(Ze);Ze.forEach(n),He.forEach(n),Ve.forEach(n),this.h()},h(){b(l,"class","svelte-12s60ya"),b(m,"class","svelte-12s60ya"),b(u,"class","svelte-12s60ya"),b(d,"class","svelte-12s60ya"),b(N,"class","svelte-12s60ya"),b(T,"class","svelte-12s60ya"),b(L,"class","svelte-12s60ya"),b(J,"class","svelte-12s60ya"),b(K,"class","svelte-12s60ya"),b(C,"class","svelte-12s60ya"),b(r,"class","svelte-12s60ya"),b(e,"class","svelte-12s60ya"),b(ge,"class","svelte-12s60ya"),b(ae,"class","svelte-12s60ya"),b(ee,"class","svelte-12s60ya")},m(B,G){q(B,e,G),a(e,l),a(l,s),a(e,o),a(e,r),a(r,i),a(i,d),a(d,m),a(m,y),a(d,f),a(d,u),a(u,c),a(i,p),a(i,L),a(L,N),a(N,S),a(L,I),a(L,T),a(T,Y),a(i,W),a(i,C),a(C,J),a(J,ie),a(C,ve),a(C,K),a(K,F),q(B,oe,G),q(B,ee,G),a(ee,ge),a(ge,Ee),a(ee,ue),a(ee,ae),a(ae,fe);for(let U=0;U<X.length;U+=1)X[U]&&X[U].m(fe,null)},p(B,G){if(G[0]&1036&&E!==(E=B[33].type.name+"")&&j(c,E),G[0]&1036&&V!==(V=B[33].type.cost+"")&&j(Y,V),G[0]&1036&&M!==(M=B[33].type.minLvl+"")&&j(F,M),G[0]&1052){ye=B[33].furnitureHotspots;let U;for(U=0;U<ye.length;U+=1){const Se=Zl(B,ye,U);X[U]?X[U].p(Se,G):(X[U]=bs(Se),X[U].c(),X[U].m(fe,null))}for(;U<X.length;U+=1)X[U].d(1);X.length=ye.length}},d(B){B&&n(e),B&&n(oe),B&&n(ee),De(X,B)}}}function ps(t){let e,l=t[37].name+"",s,o;return{c(){e=h("option"),s=O(l),this.h()},l(r){e=_(r,"OPTION",{});var i=v(e);s=P(i,l),i.forEach(n),this.h()},h(){e.__value=o=t[37].key,e.value=e.__value},m(r,i){q(r,e,i),a(e,s)},p(r,i){i[0]&1036&&l!==(l=r[37].name+"")&&j(s,l),i[0]&1036&&o!==(o=r[37].key)&&(e.__value=o,e.value=e.__value)},d(r){r&&n(e)}}}function bs(t){let e,l,s=t[34].name+"",o,r,i,d,m,y,f,u,E,c,p=t[34].options,L=[];for(let S=0;S<p.length;S+=1)L[S]=ps(Jl(t,p,S));function N(...S){return t[22](t[31],t[32],t[34],...S)}return{c(){e=h("tr"),l=h("td"),o=O(s),r=H(),i=h("td"),d=h("select"),m=h("option"),y=O("None");for(let S=0;S<L.length;S+=1)L[S].c();u=H(),this.h()},l(S){e=_(S,"TR",{class:!0});var I=v(e);l=_(I,"TD",{class:!0});var T=v(l);o=P(T,s),T.forEach(n),r=R(I),i=_(I,"TD",{class:!0});var V=v(i);d=_(V,"SELECT",{});var Y=v(d);m=_(Y,"OPTION",{});var W=v(m);y=P(W,"None"),W.forEach(n);for(let C=0;C<L.length;C+=1)L[C].l(Y);Y.forEach(n),V.forEach(n),u=R(I),I.forEach(n),this.h()},h(){b(l,"class","svelte-12s60ya"),m.__value="",m.value=m.__value,b(i,"class","svelte-12s60ya"),b(e,"class","svelte-12s60ya")},m(S,I){q(S,e,I),a(e,l),a(l,o),a(e,r),a(e,i),a(i,d),a(d,m),a(m,y);for(let T=0;T<L.length;T+=1)L[T]&&L[T].m(d,null);vt(d,t[33].furnitureKeys[t[34].key]||""),a(e,u),E||(c=Le(d,"change",N),E=!0)},p(S,I){if(t=S,I[0]&1036&&s!==(s=t[34].name+"")&&j(o,s),I[0]&1036){p=t[34].options;let T;for(T=0;T<p.length;T+=1){const V=Jl(t,p,T);L[T]?L[T].p(V,I):(L[T]=ps(V),L[T].c(),L[T].m(d,null))}for(;T<L.length;T+=1)L[T].d(1);L.length=p.length}I[0]&1036&&f!==(f=t[33].furnitureKeys[t[34].key]||"")&&vt(d,t[33].furnitureKeys[t[34].key]||"")},d(S){S&&n(e),De(L,S),E=!1,c()}}}function gs(t){let e,l,s=t[28].name+"",o,r,i,d=t[28].value+"",m,y,f,u=t[28].limit+"",E,c,p,L=t[28].level+"",N,S;return{c(){e=h("tr"),l=h("td"),o=O(s),r=H(),i=h("td"),m=O(d),y=H(),f=h("td"),E=O(u),c=H(),p=h("td"),N=O(L),S=H(),this.h()},l(I){e=_(I,"TR",{class:!0});var T=v(e);l=_(T,"TD",{class:!0});var V=v(l);o=P(V,s),V.forEach(n),r=R(T),i=_(T,"TD",{class:!0});var Y=v(i);m=P(Y,d),Y.forEach(n),y=R(T),f=_(T,"TD",{class:!0});var W=v(f);E=P(W,u),W.forEach(n),c=R(T),p=_(T,"TD",{class:!0});var C=v(p);N=P(C,L),C.forEach(n),S=R(T),T.forEach(n),this.h()},h(){b(l,"class","svelte-12s60ya"),b(i,"class","svelte-12s60ya"),b(f,"class","svelte-12s60ya"),b(p,"class","svelte-12s60ya"),b(e,"class","svelte-12s60ya"),We(e,"max",t[28].level===t[9].levelRequirements[0].level)},m(I,T){q(I,e,T),a(e,l),a(l,o),a(e,r),a(e,i),a(i,m),a(e,y),a(e,f),a(f,E),a(e,c),a(e,p),a(p,N),a(e,S)},p(I,T){T[0]&512&&s!==(s=I[28].name+"")&&j(o,s),T[0]&512&&d!==(d=I[28].value+"")&&j(m,d),T[0]&512&&u!==(u=I[28].limit+"")&&j(E,u),T[0]&512&&L!==(L=I[28].level+"")&&j(N,L),T[0]&512&&We(e,"max",I[28].level===I[9].levelRequirements[0].level)},d(I){I&&n(e)}}}function Es(t){let e,l,s=t[24].name+"",o,r,i,d=t[24].minLvl+"",m,y,f,u=t[24].cost+"",E,c,p,L=(t[25].length||"-")+"",N,S,I,T=(t[25].length>0?t[25].length*t[24].cost:"-")+"",V,Y;return{c(){e=h("tr"),l=h("td"),o=O(s),r=H(),i=h("td"),m=O(d),y=H(),f=h("td"),E=O(u),c=H(),p=h("td"),N=O(L),S=H(),I=h("td"),V=O(T),Y=H(),this.h()},l(W){e=_(W,"TR",{class:!0});var C=v(e);l=_(C,"TD",{class:!0});var J=v(l);o=P(J,s),J.forEach(n),r=R(C),i=_(C,"TD",{class:!0});var ie=v(i);m=P(ie,d),ie.forEach(n),y=R(C),f=_(C,"TD",{class:!0});var ve=v(f);E=P(ve,u),ve.forEach(n),c=R(C),p=_(C,"TD",{class:!0});var K=v(p);N=P(K,L),K.forEach(n),S=R(C),I=_(C,"TD",{class:!0});var M=v(I);V=P(M,T),M.forEach(n),Y=R(C),C.forEach(n),this.h()},h(){b(l,"class","svelte-12s60ya"),b(i,"class","number svelte-12s60ya"),b(f,"class","number svelte-12s60ya"),b(p,"class","number svelte-12s60ya"),b(I,"class","number svelte-12s60ya"),b(e,"class","svelte-12s60ya")},m(W,C){q(W,e,C),a(e,l),a(l,o),a(e,r),a(e,i),a(i,m),a(e,y),a(e,f),a(f,E),a(e,c),a(e,p),a(p,N),a(e,S),a(e,I),a(I,V),a(e,Y)},p(W,C){C[0]&512&&s!==(s=W[24].name+"")&&j(o,s),C[0]&512&&d!==(d=W[24].minLvl+"")&&j(m,d),C[0]&512&&u!==(u=W[24].cost+"")&&j(E,u),C[0]&512&&L!==(L=(W[25].length||"-")+"")&&j(N,L),C[0]&512&&T!==(T=(W[25].length>0?W[25].length*W[24].cost:"-")+"")&&j(V,T)},d(W){W&&n(e)}}}function As(t){var dl;let e,l,s,o,r,i,d,m,y,f,u,E,c,p,L,N,S,I,T,V,Y,W,C,J,ie,ve,K,M,F,oe,ee,ge,Ee,ue,ae,fe,ye,X,B,G=t[9].totalPrice+"",U,Se,re,me,Xe,Ge,he,Ne=t[9].extent[0]+"",Fe,Oe,Pe=t[9].extent[1]+"",Ue,Ve,pe,He,Ze,je,Je,pt=(((dl=t[9].levelRequirements[0])==null?void 0:dl.level)||0)+"",Et,qt,yt,Re,Ce,Qe,Mt,Bt,Ke,bt,be,ze,Wt,Yt,$e,wt,At,xe,Ft,Ut,et,jt,Xt,tt,Gt,qe,lt,Zt,Jt,Me,gt,_e,st,Qt,zt,ot,$t,xt,at,el,tl,rt,ll,sl,nt,ol,al,it,rl,vl,ct=t[10],Q=[];for(let g=0;g<ct.length;g+=1)Q[g]=ns(xl(t,ct,g));let te=t[2]!==null&&t[3]!==null&&is(il(t)),ut=we,z=[];for(let g=0;g<ut.length;g+=1)z[g]=hs(zl(t,ut,g));let le=t[9].errors.length>0&&_s(t),se=t[2]!==null&&t[3]!==null&&ds(nl(t)),ft=t[9].levelRequirements,$=[];for(let g=0;g<ft.length;g+=1)$[g]=gs(Gl(t,ft,g));let ht=t[9].groupedRooms,x=[];for(let g=0;g<ht.length;g+=1)x[g]=Es(Xl(t,ht,g));return{c(){e=h("div"),l=h("div");for(let g=0;g<Q.length;g+=1)Q[g].c();s=H(),te&&te.c(),o=H(),r=h("div"),i=h("div"),d=h("button"),m=h("i"),f=H(),u=h("select");for(let g=0;g<z.length;g+=1)z[g].c();E=H(),c=h("button"),p=h("i"),N=H(),S=h("button"),I=h("i"),T=H(),V=h("div"),Y=h("h2"),W=O("Help"),C=H(),J=h("ul"),ie=h("li"),ve=O("Click a cell to the left to place a new room"),K=H(),le&&le.c(),M=H(),F=h("div"),oe=h("h2"),ee=O("Totals"),ge=H(),Ee=h("table"),ue=h("tbody"),ae=h("tr"),fe=h("td"),ye=O("Cost"),X=H(),B=h("td"),U=O(G),Se=H(),re=h("tr"),me=h("td"),Xe=O("Extent"),Ge=H(),he=h("td"),Fe=O(Ne),Oe=O("x"),Ue=O(Pe),Ve=H(),pe=h("tr"),He=h("td"),Ze=O("Min Level"),je=H(),Je=h("td"),Et=O(pt),qt=H(),se&&se.c(),yt=H(),Re=h("div"),Ce=h("div"),Qe=h("h2"),Mt=O("Requirements"),Bt=H(),Ke=h("table"),bt=h("thead"),be=h("tr"),ze=h("th"),Wt=O("Requirement"),Yt=H(),$e=h("th"),wt=O("Current"),At=H(),xe=h("th"),Ft=O("Limit"),Ut=H(),et=h("th"),jt=O("Min. Level"),Xt=H(),tt=h("tbody");for(let g=0;g<$.length;g+=1)$[g].c();Gt=H(),qe=h("div"),lt=h("h2"),Zt=O("Rooms"),Jt=H(),Me=h("table"),gt=h("thead"),_e=h("tr"),st=h("th"),Qt=O("Type"),zt=H(),ot=h("th"),$t=O("Level"),xt=H(),at=h("th"),el=O("Cost"),tl=H(),rt=h("th"),ll=O("Amount"),sl=H(),nt=h("th"),ol=O("Total"),al=H(),it=h("tbody");for(let g=0;g<x.length;g+=1)x[g].c();this.h()},l(g){e=_(g,"DIV",{class:!0});var w=v(e);l=_(w,"DIV",{class:!0});var A=v(l);for(let ne=0;ne<Q.length;ne+=1)Q[ne].l(A);s=R(A),te&&te.l(A),A.forEach(n),w.forEach(n),o=R(g),r=_(g,"DIV",{class:!0});var D=v(r);i=_(D,"DIV",{class:!0});var Z=v(i);d=_(Z,"BUTTON",{class:!0});var ml=v(d);m=_(ml,"I",{class:!0}),v(m).forEach(n),ml.forEach(n),f=R(Z),u=_(Z,"SELECT",{class:!0});var pl=v(u);for(let ne=0;ne<z.length;ne+=1)z[ne].l(pl);pl.forEach(n),E=R(Z),c=_(Z,"BUTTON",{class:!0});var bl=v(c);p=_(bl,"I",{class:!0}),v(p).forEach(n),bl.forEach(n),N=R(Z),S=_(Z,"BUTTON",{class:!0});var gl=v(S);I=_(gl,"I",{class:!0}),v(I).forEach(n),gl.forEach(n),Z.forEach(n),T=R(D),V=_(D,"DIV",{class:!0});var kt=v(V);Y=_(kt,"H2",{class:!0});var El=v(Y);W=P(El,"Help"),El.forEach(n),C=R(kt),J=_(kt,"UL",{});var yl=v(J);ie=_(yl,"LI",{});var kl=v(ie);ve=P(kl,"Click a cell to the left to place a new room"),kl.forEach(n),yl.forEach(n),kt.forEach(n),K=R(D),le&&le.l(D),M=R(D),F=_(D,"DIV",{class:!0});var Tt=v(F);oe=_(Tt,"H2",{class:!0});var Tl=v(oe);ee=P(Tl,"Totals"),Tl.forEach(n),ge=R(Tt),Ee=_(Tt,"TABLE",{class:!0});var Ll=v(Ee);ue=_(Ll,"TBODY",{});var _t=v(ue);ae=_(_t,"TR",{class:!0});var Lt=v(ae);fe=_(Lt,"TD",{class:!0});var Dl=v(fe);ye=P(Dl,"Cost"),Dl.forEach(n),X=R(Lt),B=_(Lt,"TD",{class:!0});var Sl=v(B);U=P(Sl,G),Sl.forEach(n),Lt.forEach(n),Se=R(_t),re=_(_t,"TR",{class:!0});var Dt=v(re);me=_(Dt,"TD",{class:!0});var Hl=v(me);Xe=P(Hl,"Extent"),Hl.forEach(n),Ge=R(Dt),he=_(Dt,"TD",{class:!0});var St=v(he);Fe=P(St,Ne),Oe=P(St,"x"),Ue=P(St,Pe),St.forEach(n),Dt.forEach(n),Ve=R(_t),pe=_(_t,"TR",{class:!0});var Ht=v(pe);He=_(Ht,"TD",{class:!0});var Rl=v(He);Ze=P(Rl,"Min Level"),Rl.forEach(n),je=R(Ht),Je=_(Ht,"TD",{class:!0});var Il=v(Je);Et=P(Il,pt),Il.forEach(n),Ht.forEach(n),_t.forEach(n),Ll.forEach(n),Tt.forEach(n),qt=R(D),se&&se.l(D),D.forEach(n),yt=R(g),Re=_(g,"DIV",{class:!0});var Rt=v(Re);Ce=_(Rt,"DIV",{class:!0});var It=v(Ce);Qe=_(It,"H2",{class:!0});var Nl=v(Qe);Mt=P(Nl,"Requirements"),Nl.forEach(n),Bt=R(It),Ke=_(It,"TABLE",{class:!0});var Nt=v(Ke);bt=_(Nt,"THEAD",{});var Ol=v(bt);be=_(Ol,"TR",{});var Be=v(be);ze=_(Be,"TH",{class:!0});var Pl=v(ze);Wt=P(Pl,"Requirement"),Pl.forEach(n),Yt=R(Be),$e=_(Be,"TH",{class:!0});var Vl=v($e);wt=P(Vl,"Current"),Vl.forEach(n),At=R(Be),xe=_(Be,"TH",{class:!0});var Cl=v(xe);Ft=P(Cl,"Limit"),Cl.forEach(n),Ut=R(Be),et=_(Be,"TH",{class:!0});var Kl=v(et);jt=P(Kl,"Min. Level"),Kl.forEach(n),Be.forEach(n),Ol.forEach(n),Xt=R(Nt),tt=_(Nt,"TBODY",{});var ql=v(tt);for(let ne=0;ne<$.length;ne+=1)$[ne].l(ql);ql.forEach(n),Nt.forEach(n),It.forEach(n),Gt=R(Rt),qe=_(Rt,"DIV",{class:!0});var Ot=v(qe);lt=_(Ot,"H2",{class:!0});var Ml=v(lt);Zt=P(Ml,"Rooms"),Ml.forEach(n),Jt=R(Ot),Me=_(Ot,"TABLE",{class:!0});var Pt=v(Me);gt=_(Pt,"THEAD",{});var Bl=v(gt);_e=_(Bl,"TR",{});var ke=v(_e);st=_(ke,"TH",{class:!0});var Wl=v(st);Qt=P(Wl,"Type"),Wl.forEach(n),zt=R(ke),ot=_(ke,"TH",{class:!0});var Yl=v(ot);$t=P(Yl,"Level"),Yl.forEach(n),xt=R(ke),at=_(ke,"TH",{class:!0});var wl=v(at);el=P(wl,"Cost"),wl.forEach(n),tl=R(ke),rt=_(ke,"TH",{class:!0});var Al=v(rt);ll=P(Al,"Amount"),Al.forEach(n),sl=R(ke),nt=_(ke,"TH",{class:!0});var Fl=v(nt);ol=P(Fl,"Total"),Fl.forEach(n),ke.forEach(n),Bl.forEach(n),al=R(Pt),it=_(Pt,"TBODY",{});var Ul=v(it);for(let ne=0;ne<x.length;ne+=1)x[ne].l(Ul);Ul.forEach(n),Pt.forEach(n),Ot.forEach(n),Rt.forEach(n),this.h()},h(){b(l,"class","grid svelte-12s60ya"),b(e,"class","map svelte-12s60ya"),b(m,"class","icofont-arrow-up"),d.disabled=y=t[11]>=hl,b(d,"class","svelte-12s60ya"),b(u,"class","svelte-12s60ya"),t[0]===void 0&&Hs(()=>t[19].call(u)),b(p,"class","icofont-arrow-down"),c.disabled=L=t[11]<=fl,b(c,"class","svelte-12s60ya"),b(I,"class","icofont-ui-delete"),b(S,"class","svelte-12s60ya"),b(i,"class","floor-controls svelte-12s60ya"),b(Y,"class","svelte-12s60ya"),b(V,"class","svelte-12s60ya"),b(oe,"class","svelte-12s60ya"),b(fe,"class","svelte-12s60ya"),b(B,"class","svelte-12s60ya"),b(ae,"class","svelte-12s60ya"),b(me,"class","svelte-12s60ya"),b(he,"class","svelte-12s60ya"),b(re,"class","svelte-12s60ya"),b(He,"class","svelte-12s60ya"),b(Je,"class","svelte-12s60ya"),b(pe,"class","svelte-12s60ya"),b(Ee,"class","svelte-12s60ya"),b(F,"class","svelte-12s60ya"),b(r,"class","stats svelte-12s60ya"),b(Qe,"class","svelte-12s60ya"),b(ze,"class","svelte-12s60ya"),b($e,"class","svelte-12s60ya"),b(xe,"class","svelte-12s60ya"),b(et,"class","svelte-12s60ya"),b(Ke,"class","svelte-12s60ya"),b(Ce,"class","svelte-12s60ya"),b(lt,"class","svelte-12s60ya"),b(st,"class","svelte-12s60ya"),b(ot,"class","svelte-12s60ya"),b(at,"class","svelte-12s60ya"),b(rt,"class","svelte-12s60ya"),b(nt,"class","svelte-12s60ya"),b(Me,"class","svelte-12s60ya"),b(qe,"class","svelte-12s60ya"),b(Re,"class","stats svelte-12s60ya")},m(g,w){q(g,e,w),a(e,l);for(let A=0;A<Q.length;A+=1)Q[A]&&Q[A].m(l,null);a(l,s),te&&te.m(l,null),q(g,o,w),q(g,r,w),a(r,i),a(i,d),a(d,m),a(i,f),a(i,u);for(let A=0;A<z.length;A+=1)z[A]&&z[A].m(u,null);vt(u,t[0],!0),a(i,E),a(i,c),a(c,p),a(i,N),a(i,S),a(S,I),a(r,T),a(r,V),a(V,Y),a(Y,W),a(V,C),a(V,J),a(J,ie),a(ie,ve),a(r,K),le&&le.m(r,null),a(r,M),a(r,F),a(F,oe),a(oe,ee),a(F,ge),a(F,Ee),a(Ee,ue),a(ue,ae),a(ae,fe),a(fe,ye),a(ae,X),a(ae,B),a(B,U),a(ue,Se),a(ue,re),a(re,me),a(me,Xe),a(re,Ge),a(re,he),a(he,Fe),a(he,Oe),a(he,Ue),a(ue,Ve),a(ue,pe),a(pe,He),a(He,Ze),a(pe,je),a(pe,Je),a(Je,Et),a(r,qt),se&&se.m(r,null),q(g,yt,w),q(g,Re,w),a(Re,Ce),a(Ce,Qe),a(Qe,Mt),a(Ce,Bt),a(Ce,Ke),a(Ke,bt),a(bt,be),a(be,ze),a(ze,Wt),a(be,Yt),a(be,$e),a($e,wt),a(be,At),a(be,xe),a(xe,Ft),a(be,Ut),a(be,et),a(et,jt),a(Ke,Xt),a(Ke,tt);for(let A=0;A<$.length;A+=1)$[A]&&$[A].m(tt,null);a(Re,Gt),a(Re,qe),a(qe,lt),a(lt,Zt),a(qe,Jt),a(qe,Me),a(Me,gt),a(gt,_e),a(_e,st),a(st,Qt),a(_e,zt),a(_e,ot),a(ot,$t),a(_e,xt),a(_e,at),a(at,el),a(_e,tl),a(_e,rt),a(rt,ll),a(_e,sl),a(_e,nt),a(nt,ol),a(Me,al),a(Me,it);for(let A=0;A<x.length;A+=1)x[A]&&x[A].m(it,null);rl||(vl=[Le(d,"click",dt(t[18])),Le(u,"change",t[19]),Le(c,"click",dt(t[20])),Le(S,"click",t[21])],rl=!0)},p(g,w){var A;if(w[0]&1071){ct=g[10];let D;for(D=0;D<ct.length;D+=1){const Z=xl(g,ct,D);Q[D]?Q[D].p(Z,w):(Q[D]=ns(Z),Q[D].c(),Q[D].m(l,s))}for(;D<Q.length;D+=1)Q[D].d(1);Q.length=ct.length}if(g[2]!==null&&g[3]!==null?te?te.p(il(g),w):(te=is(il(g)),te.c(),te.m(l,null)):te&&(te.d(1),te=null),w[0]&2048&&y!==(y=g[11]>=hl)&&(d.disabled=y),w&0){ut=we;let D;for(D=0;D<ut.length;D+=1){const Z=zl(g,ut,D);z[D]?z[D].p(Z,w):(z[D]=hs(Z),z[D].c(),z[D].m(u,null))}for(;D<z.length;D+=1)z[D].d(1);z.length=ut.length}if(w[0]&1&&vt(u,g[0]),w[0]&2048&&L!==(L=g[11]<=fl)&&(c.disabled=L),g[9].errors.length>0?le?le.p(g,w):(le=_s(g),le.c(),le.m(r,M)):le&&(le.d(1),le=null),w[0]&512&&G!==(G=g[9].totalPrice+"")&&j(U,G),w[0]&512&&Ne!==(Ne=g[9].extent[0]+"")&&j(Fe,Ne),w[0]&512&&Pe!==(Pe=g[9].extent[1]+"")&&j(Ue,Pe),w[0]&512&&pt!==(pt=(((A=g[9].levelRequirements[0])==null?void 0:A.level)||0)+"")&&j(Et,pt),g[2]!==null&&g[3]!==null?se?se.p(nl(g),w):(se=ds(nl(g)),se.c(),se.m(r,null)):se&&(se.d(1),se=null),w[0]&512){ft=g[9].levelRequirements;let D;for(D=0;D<ft.length;D+=1){const Z=Gl(g,ft,D);$[D]?$[D].p(Z,w):($[D]=gs(Z),$[D].c(),$[D].m(tt,null))}for(;D<$.length;D+=1)$[D].d(1);$.length=ft.length}if(w[0]&512){ht=g[9].groupedRooms;let D;for(D=0;D<ht.length;D+=1){const Z=Xl(g,ht,D);x[D]?x[D].p(Z,w):(x[D]=Es(Z),x[D].c(),x[D].m(it,null))}for(;D<x.length;D+=1)x[D].d(1);x.length=ht.length}},i:Kt,o:Kt,d(g){g&&n(e),De(Q,g),te&&te.d(),g&&n(o),g&&n(r),De(z,g),le&&le.d(),se&&se.d(),g&&n(yt),g&&n(Re),De($,g),De(x,g),rl=!1,_l(vl)}}}function Fs(t,e,l){let s,o,r,i,d,m,y,f,u,E;Rs(t,Os,K=>l(23,E=K));let c=Math.max(0,we.indexOf(0)),p=[];Is(()=>{l(12,p=Ms(E.url.searchParams))});let L=null,N=null;const S=(K,M)=>f(K,M),I=(K,M)=>f(K,M),T=(K,M,F)=>d(K,M,F.currentTarget.value),V=(K,M)=>m(K,M),Y=(K,M)=>d(K,M,null),W=()=>l(0,c++,c);function C(){c=Ns(this),l(0,c)}const J=()=>l(0,c--,c),ie=()=>y(),ve=(K,M,F,oe)=>u(K,M,F.key,oe.currentTarget.value);return t.$$.update=()=>{t.$$.dirty[0]&1&&l(11,s=we[c]),t.$$.dirty[0]&4097&&l(8,d=(K,M,F)=>{F===null?l(12,p[c][M][K]=null,p):l(12,p[c][M][K]={typeKey:F,orientation:Ye.North,furnitureKeys:{}},p),Vt(`?${Ct(p)}`,{replaceState:!0})}),t.$$.dirty[0]&4097&&l(7,m=(K,M)=>{const F=p[c][M][K];F&&(l(12,p[c][M][K]={...F,orientation:cl(F.orientation)},p),Vt(`?${Ct(p)}`,{replaceState:!0}))}),t.$$.dirty[0]&4097&&l(6,y=()=>{confirm("Are you sure you want to delete all rooms on this floor?")&&(l(12,p[c]=ks(),p),Vt(`?${Ct(p)}`,{replaceState:!0}))}),t.$$.dirty[0]&4096&&l(1,o=Vs(p)),t.$$.dirty[0]&3&&l(10,r=o[c]||[]),t.$$.dirty[0]&2&&l(9,i=Cs(o)),t.$$.dirty[0]&4097&&l(4,u=(K,M,F,oe)=>{const ee=p[c][M][K];ee&&(ee.furnitureKeys[F]=oe,Vt(`?${Ct(p)}`,{replaceState:!0}))})},l(5,f=(K,M)=>{l(2,L=K),l(3,N=M)}),[c,o,L,N,u,f,y,m,d,i,r,s,p,S,I,T,V,Y,W,C,J,ie,ve]}class Gs extends Ls{constructor(e){super(),Ds(this,e,Fs,As,Ss,{},null,[-1,-1])}}export{Gs as default};
