import{S as ns,i as is,s as cs,k as _,a as L,q as S,l as v,m,c as I,h as u,r as R,n as g,J as hs,b as w,G as a,K as ft,L as oe,M as ut,u as Z,H as st,N as pe,O as sl,I as fs,o as us,p as ie,P as he,Q as ds,e as wl}from"../chunks/index.a8a550d7.js";import{p as _s}from"../chunks/stores.d2c29682.js";import{j as be}from"../chunks/singletons.6b19c0e2.js";be.disable_scroll_handling;const Jt=be.goto;be.invalidate;be.invalidateAll;be.preload_data;be.preload_code;be.before_navigate;be.after_navigate;var ye=(t=>(t[t.North=0]="North",t[t.East=1]="East",t[t.South=2]="South",t[t.West=3]="West",t))(ye||{});const Hl=t=>ye[t].toLowerCase(),xt=(t,e=1)=>(t+=e)%4,T=ye,os={garden:{name:"Garden",cost:1e3,minLvl:1,doors:[T.North,T.East,T.South,T.West],stairs:!1,open:!0,bg:"green"},parlour:{name:"Parlour",cost:1e3,minLvl:1,doors:[T.East,T.South,T.West],stairs:!1,open:!1,bg:"gray"},kitchen:{name:"Kitchen",cost:5e3,minLvl:5,doors:[T.East,T.South],stairs:!1,open:!1,bg:"gray"},dining_room:{name:"Dining Room",cost:5e3,minLvl:10,doors:[T.East,T.South,T.West],stairs:!1,open:!1,bg:"gray"},workshop:{name:"Workshop",cost:1e4,minLvl:15,doors:[T.North,T.South],stairs:!1,open:!1,bg:"gray"},bedroom:{name:"Bedroom",cost:1e4,minLvl:20,doors:[T.East,T.South],stairs:!1,open:!1,bg:"darkred"},skill_hall:{name:"Skill Hall",cost:15e3,minLvl:25,doors:[T.North,T.East,T.South,T.West],stairs:!0,open:!1,bg:"midnightblue"},games_room:{name:"Games Room",cost:25e3,minLvl:30,doors:[T.East,T.South,T.West],stairs:!1,open:!1,bg:"darkorange"},combat_room:{name:"Combat Room",cost:25e3,minLvl:30,doors:[T.East,T.South,T.West],stairs:!1,open:!1,bg:"red"},quest_hall:{name:"Quest Hall",cost:25e3,minLvl:32,doors:[T.North,T.East,T.South,T.West],stairs:!0,open:!1,bg:"indigo"},menagerie:{name:"Menagerie",cost:3e4,minLvl:37,doors:[T.North,T.East,T.South,T.West],stairs:!1,open:!0,bg:"forestgreen"},study:{name:"Study",cost:5e4,minLvl:40,doors:[T.East,T.South,T.West],stairs:!1,open:!1,bg:"gray"},costume_room:{name:"Costume Room",cost:5e4,minLvl:42,doors:[T.South],stairs:!1,open:!1,bg:"gray"},chapel:{name:"Chapel",cost:5e4,minLvl:45,doors:[T.East,T.South],stairs:!1,open:!1,bg:"gray"},portal_chamber:{name:"Portal Chamber",cost:1e5,minLvl:50,doors:[T.South],stairs:!1,open:!1,bg:"gray"},formal_garden:{name:"Formal Garden",cost:75e3,minLvl:55,doors:[T.North,T.East,T.South,T.West],stairs:!1,open:!0,bg:"darkgreen"},throne_room:{name:"Throne Room",cost:15e4,minLvl:60,doors:[T.South],stairs:!1,open:!1,bg:"gray"},aquarium:{name:"Aquarium",cost:2e5,minLvl:63,doors:[T.North,T.East,T.South,T.West],stairs:!1,open:!1,bg:"gray"}},el=Object.entries(os).sort(([,t],[,e])=>t.name.localeCompare(e.name)),ce=9,$=9,vs=t=>{const e=[];for(const s of t){const l=[];for(let o=0;o<$;o++){l.push([]);for(let i=0;i<ce;i++){const c=s[o][i];if(!c){l[o].push(null);continue}const r=os[c.type];l[o].push({...r,x:i,y:o,type:c.type,doors:r.doors.map(n=>xt(n,c.orientation)).map(n=>({dir:n,name:Hl(n),connected:!1})),orientation:Hl(c.orientation)})}}for(let o=0;o<$;o++)for(let i=0;i<ce;i++){const c=l[o][i];if(!c)continue;const r={[ye.North]:o===0?null:l[o-1][i],[ye.East]:i>=l[o].length-1?null:l[o][i+1],[ye.South]:o>=l.length-1?null:l[o+1][i],[ye.West]:i===0?null:l[o][i-1]};for(const n of c.doors){const E=r[n.dir];E&&(n.connected=E.doors.some(h=>h.dir===xt(n.dir,2)))}}e.push(l)}return e},as=()=>{const t=[];for(let e=0;e<$;e++){t.push([]);for(let s=0;s<ce;s++)t[e].push(null)}return t},tl=-1,ll=1,rs=[];for(let t=tl;t<=ll;t++)rs.push(t);const ge=rs,fe=[{level:0,rooms:0,extent:[0,0]},{level:1,rooms:21,extent:[3,3]},{level:15,rooms:21,extent:[4,4]},{level:30,rooms:21,extent:[5,5]},{level:38,rooms:22,extent:[5,5]},{level:44,rooms:23,extent:[5,5]},{level:45,rooms:23,extent:[6,6]},{level:50,rooms:24,extent:[6,6]},{level:56,rooms:25,extent:[6,6]},{level:60,rooms:25,extent:[7,7]},{level:62,rooms:26,extent:[7,7]},{level:68,rooms:27,extent:[7,7]},{level:74,rooms:28,extent:[7,7]},{level:80,rooms:29,extent:[7,7]},{level:86,rooms:30,extent:[7,7]},{level:92,rooms:31,extent:[7,7]},{level:96,rooms:32,extent:[7,7]},{level:99,rooms:33,extent:[7,7]}],ms=t=>{const e=t.flat(2).filter(d=>!!d).map(d=>d),s=el.map(([d,b])=>({type:b,rooms:e.filter(H=>H.type===d)})).sort((d,b)=>b.rooms.length-d.rooms.length);let l=0,o=ce,i=$,c=0,r=0,n=null;const E=[];for(const d of e)l+=d.cost,n=n&&d.minLvl<=n.minLvl?n:d,o=Math.min(o,d.x),c=Math.max(c,d.x),i=Math.min(i,d.y),r=Math.max(r,d.y);const h=[];if(n&&h.push({name:"Highest Level Room",value:n.name,limit:"-",level:n.minLvl}),e.length>0){const d=fe.find(b=>b.rooms>=e.length);if(d)h.push({name:"Number of Rooms",value:e.length,limit:d.rooms,level:d.level});else{const b=fe[fe.length-1].rooms;E.push(`You have too many rooms (${e.length})! You cannot have more than ${b}`)}}const f=Math.max(0,c-o+1);if(f>0){const d=fe.find(b=>b.extent[0]>=f);if(d)h.push({name:"Extent X",value:f,limit:d.extent[0],level:d.level});else{const b=fe[fe.length-1].extent[0];E.push(`Your house is too wide (${f})! It can be at most ${b} wide`)}}const p=Math.max(0,r-i+1);if(p>0){const d=fe.find(b=>b.extent[1]>=p);if(d)h.push({name:"Extent Y",value:p,limit:d.extent[1],level:d.level});else{const b=fe[fe.length-1].extent[1];E.push(`Your house is too tall (${p})! It can be at most ${b} tall`)}}return h.sort((d,b)=>b.level-d.level),{groupedRooms:s,totalPrice:l,levelRequirements:h,extent:[f,p],errors:E}},zt=t=>{const e=new URLSearchParams;for(let s=0;s<ge.length;s++){const l=t[s].flat();let o=-1;const i=[];for(let r=0;r<l.length;r++){const n=l[r];if(!n)continue;const E=r-o-1<`${r}.`.length?"-".repeat(Math.max(0,r-o-1)):`${r}.`;i.push(`${E}${n.type}.${n.orientation}`),o=r}const c=i.join("-");e.set(`f${ge[s]}`,c)}return e},ps=t=>{const e=[];for(let s=0;s<ge.length;s++){const l=as(),o=t.get(`f${ge[s]}`);if(!o){e.push(l);continue}let i=0,c=0;const r=o.split("-");for(let n=0;n<r.length;n++){const E=r[n].split(".");if(!(E.length<2))if(E.length===3){const h=Number(E[0]),f=Number(E[2]);l[Math.floor(h/$)][h%$]={type:E[1],orientation:f},i=n,c=h}else{const h=c+(n-i),f=Number(E[1]);l[Math.floor(h/$)][h%$]={type:E[0],orientation:f}}}e.push(l)}return e};function Cl(t,e,s){const l=t.slice();return l[24]=e[s].type,l[25]=e[s].rooms,l}function Yl(t,e,s){const l=t.slice();return l[28]=e[s],l}function Wl(t,e,s){const l=t.slice();return l[31]=e[s],l}function Bl(t,e,s){const l=t.slice();return l[34]=e[s],l[10]=s,l}function Al(t,e,s){const l=t.slice();return l[41]=e[s][0],l[24]=e[s][1],l}function $t(t){var r;const e=t.slice(),s=e[3];e[36]=s;const l=100/e[9].length;e[37]=l;const o=e[2];e[38]=o;const i=100/e[9][e[36]].length;e[39]=i;const c=(r=e[1][e[0]-1])==null?void 0:r[e[36]][e[38]];return e[40]=c,e}function Ul(t,e,s){const l=t.slice();return l[44]=e[s],l[36]=s,l}function Xl(t,e,s){const l=t.slice();l[46]=e[s],l[38]=s;const o=l[38]===l[2]&&l[36]===l[3];return l[47]=o,l}function Fl(t,e,s){const l=t.slice();return l[49]=e[s].name,l[50]=e[s].connected,l}function ys(t){var l;const e=t.slice(),s=(l=e[1][e[0]-1])==null?void 0:l[e[36]][e[38]];return e[40]=s,e}function Gl(t){let e,s=t[40]&&jl(t);return{c(){e=_("div"),s&&s.c(),this.h()},l(l){e=v(l,"DIV",{class:!0});var o=m(e);s&&s.l(o),o.forEach(u),this.h()},h(){g(e,"class","content svelte-10yay1t"),he(e,"below",!!t[40]),he(e,"supported",t[40]&&!t[40].open)},m(l,o){w(l,e,o),s&&s.m(e,null)},p(l,o){l[40]?s?s.p(l,o):(s=jl(l),s.c(),s.m(e,null)):s&&(s.d(1),s=null),o[0]&3&&he(e,"below",!!l[40]),o[0]&3&&he(e,"supported",l[40]&&!l[40].open)},d(l){l&&u(e),s&&s.d()}}}function gs(t){let e,s,l,o,i=t[46].name+"",c,r,n,E=t[46].doors,h=[];for(let f=0;f<E.length;f+=1)h[f]=Zl(Fl(t,E,f));return{c(){e=_("div"),s=L(),l=_("div"),o=_("div"),c=S(i),r=L();for(let f=0;f<h.length;f+=1)h[f].c();n=wl(),this.h()},l(f){e=v(f,"DIV",{class:!0}),m(e).forEach(u),s=I(f),l=v(f,"DIV",{class:!0});var p=m(l);o=v(p,"DIV",{class:!0});var d=m(o);c=R(d,i),d.forEach(u),p.forEach(u),r=I(f);for(let b=0;b<h.length;b+=1)h[b].l(f);n=wl(),this.h()},h(){g(e,"class","marker svelte-10yay1t"),g(o,"class","title svelte-10yay1t"),g(l,"class","content svelte-10yay1t"),ie(l,"background-color",t[46].bg)},m(f,p){w(f,e,p),w(f,s,p),w(f,l,p),a(l,o),a(o,c),w(f,r,p);for(let d=0;d<h.length;d+=1)h[d]&&h[d].m(f,p);w(f,n,p)},p(f,p){if(p[0]&512&&i!==(i=f[46].name+"")&&Z(c,i),p[0]&512&&ie(l,"background-color",f[46].bg),p[0]&512){E=f[46].doors;let d;for(d=0;d<E.length;d+=1){const b=Fl(f,E,d);h[d]?h[d].p(b,p):(h[d]=Zl(b),h[d].c(),h[d].m(n.parentNode,n))}for(;d<h.length;d+=1)h[d].d(1);h.length=E.length}},d(f){f&&u(e),f&&u(s),f&&u(l),f&&u(r),pe(h,f),f&&u(n)}}}function jl(t){let e,s=t[40].name+"",l;return{c(){e=_("div"),l=S(s),this.h()},l(o){e=v(o,"DIV",{class:!0});var i=m(e);l=R(i,s),i.forEach(u),this.h()},h(){g(e,"class","title svelte-10yay1t")},m(o,i){w(o,e,i),a(e,l)},p(o,i){i[0]&3&&s!==(s=o[40].name+"")&&Z(l,s)},d(o){o&&u(e)}}}function Zl(t){let e,s;return{c(){e=_("div"),this.h()},l(l){e=v(l,"DIV",{class:!0}),m(e).forEach(u),this.h()},h(){g(e,"class",s="door "+t[49]+" svelte-10yay1t"),he(e,"connected",t[50])},m(l,o){w(l,e,o)},p(l,o){o[0]&512&&s!==(s="door "+l[49]+" svelte-10yay1t")&&g(e,"class",s),o[0]&512&&he(e,"connected",l[50])},d(l){l&&u(e)}}}function Kl(t){let e,s,l,o;function i(f,p){return f[46]!==null?gs:Gl}function c(f,p){return p===Gl?ys(f):f}let r=i(t),n=r(c(t,r));function E(){return t[12](t[38],t[36])}function h(){return t[13](t[38],t[36])}return{c(){e=_("div"),n.c(),this.h()},l(f){e=v(f,"DIV",{class:!0});var p=m(e);n.l(p),p.forEach(u),this.h()},h(){var f;g(e,"class",s="cell "+(((f=t[46])==null?void 0:f.orientation)||"")+" svelte-10yay1t"),he(e,"selected",t[47])},m(f,p){w(f,e,p),n.m(e,null),l||(o=[oe(e,"click",E),oe(e,"keypress",h)],l=!0)},p(f,p){var d;t=f,r===(r=i(t))&&n?n.p(c(t,r),p):(n.d(1),n=r(c(t,r)),n&&(n.c(),n.m(e,null))),p[0]&512&&s!==(s="cell "+(((d=t[46])==null?void 0:d.orientation)||"")+" svelte-10yay1t")&&g(e,"class",s),p[0]&524&&he(e,"selected",t[47])},d(f){f&&u(e),n.d(),l=!1,sl(o)}}}function Ql(t){let e,s=t[44],l=[];for(let o=0;o<s.length;o+=1)l[o]=Kl(Xl(t,s,o));return{c(){e=_("div");for(let o=0;o<l.length;o+=1)l[o].c();this.h()},l(o){e=v(o,"DIV",{class:!0});var i=m(e);for(let c=0;c<l.length;c+=1)l[c].l(i);i.forEach(u),this.h()},h(){g(e,"class","row svelte-10yay1t")},m(o,i){w(o,e,i);for(let c=0;c<l.length;c+=1)l[c]&&l[c].m(e,null)},p(o,i){if(i[0]&543){s=o[44];let c;for(c=0;c<s.length;c+=1){const r=Xl(o,s,c);l[c]?l[c].p(r,i):(l[c]=Kl(r),l[c].c(),l[c].m(e,null))}for(;c<l.length;c+=1)l[c].d(1);l.length=s.length}},d(o){o&&u(e),pe(l,o)}}}function Jl(t){let e,s;function l(r,n){return r[10]>0&&(!r[40]||r[40].open)?Es:bs}let o=l(t),i=o(t),c=t[9][t[36]][t[38]]&&$l(t);return{c(){e=_("div"),i.c(),s=L(),c&&c.c(),this.h()},l(r){e=v(r,"DIV",{class:!0});var n=m(e);i.l(n),s=I(n),c&&c.l(n),n.forEach(u),this.h()},h(){g(e,"class","popup svelte-10yay1t"),ie(e,"top",t[36]<$-2?`${t[37]*(t[36]+1)}%`:""),ie(e,"bottom",t[36]>=$-2?`${t[37]*($-t[36])}%`:""),ie(e,"left",t[38]<ce-2?`${t[39]*t[38]}%`:""),ie(e,"right",t[38]>=ce-2?`${t[39]*(ce-t[38]-1)}%`:"")},m(r,n){w(r,e,n),i.m(e,null),a(e,s),c&&c.m(e,null)},p(r,n){o===(o=l(r))&&i?i.p(r,n):(i.d(1),i=o(r),i&&(i.c(),i.m(e,s))),r[9][r[36]][r[38]]?c?c.p(r,n):(c=$l(r),c.c(),c.m(e,null)):c&&(c.d(1),c=null),n[0]&520&&ie(e,"top",r[36]<$-2?`${r[37]*(r[36]+1)}%`:""),n[0]&520&&ie(e,"bottom",r[36]>=$-2?`${r[37]*($-r[36])}%`:""),n[0]&524&&ie(e,"left",r[38]<ce-2?`${r[39]*r[38]}%`:""),n[0]&524&&ie(e,"right",r[38]>=ce-2?`${r[39]*(ce-r[38]-1)}%`:"")},d(r){r&&u(e),i.d(),c&&c.d()}}}function bs(t){let e,s,l,o,i,c,r=el,n=[];for(let h=0;h<r.length;h+=1)n[h]=zl(Al(t,r,h));function E(...h){return t[14](t[38],t[36],...h)}return{c(){e=_("select"),s=_("option"),l=S("Pick a room...");for(let h=0;h<n.length;h+=1)n[h].c();this.h()},l(h){e=v(h,"SELECT",{class:!0});var f=m(e);s=v(f,"OPTION",{});var p=m(s);l=R(p,"Pick a room..."),p.forEach(u);for(let d=0;d<n.length;d+=1)n[d].l(f);f.forEach(u),this.h()},h(){s.__value="",s.value=s.__value,s.disabled=!0,s.selected=!0,g(e,"class","svelte-10yay1t")},m(h,f){var p;w(h,e,f),a(e,s),a(s,l);for(let d=0;d<n.length;d+=1)n[d]&&n[d].m(e,null);ft(e,((p=t[9][t[36]][t[38]])==null?void 0:p.type)||""),i||(c=oe(e,"change",E),i=!0)},p(h,f){var p,d;if(t=h,f&0){r=el;let b;for(b=0;b<r.length;b+=1){const H=Al(t,r,b);n[b]?n[b].p(H,f):(n[b]=zl(H),n[b].c(),n[b].m(e,null))}for(;b<n.length;b+=1)n[b].d(1);n.length=r.length}f[0]&524&&o!==(o=((p=t[9][t[36]][t[38]])==null?void 0:p.type)||"")&&ft(e,((d=t[9][t[36]][t[38]])==null?void 0:d.type)||"")},d(h){h&&u(e),pe(n,h),i=!1,c()}}}function Es(t){let e,s;return{c(){e=_("p"),s=S("There is no supporting room below!"),this.h()},l(l){e=v(l,"P",{class:!0});var o=m(e);s=R(o,"There is no supporting room below!"),o.forEach(u),this.h()},h(){g(e,"class","svelte-10yay1t")},m(l,o){w(l,e,o),a(e,s)},p:st,d(l){l&&u(e)}}}function zl(t){let e,s=t[24].name+"",l;return{c(){e=_("option"),l=S(s),this.h()},l(o){e=v(o,"OPTION",{});var i=m(e);l=R(i,s),i.forEach(u),this.h()},h(){e.__value=t[41],e.value=e.__value},m(o,i){w(o,e,i),a(e,l)},p:st,d(o){o&&u(e)}}}function $l(t){let e,s,l,o,i,c,r;function n(){return t[15](t[38],t[36])}function E(){return t[16](t[38],t[36])}return{c(){e=_("button"),s=_("i"),l=L(),o=_("button"),i=_("i"),this.h()},l(h){e=v(h,"BUTTON",{class:!0});var f=m(e);s=v(f,"I",{class:!0}),m(s).forEach(u),f.forEach(u),l=I(h),o=v(h,"BUTTON",{class:!0});var p=m(o);i=v(p,"I",{class:!0}),m(i).forEach(u),p.forEach(u),this.h()},h(){g(s,"class","icofont-ui-rotation"),g(e,"class","rotate svelte-10yay1t"),g(i,"class","icofont-ui-delete"),g(o,"class","remove svelte-10yay1t")},m(h,f){w(h,e,f),a(e,s),w(h,l,f),w(h,o,f),a(o,i),c||(r=[oe(e,"click",ut(n)),oe(o,"click",ut(E))],c=!0)},p(h,f){t=h},d(h){h&&u(e),h&&u(l),h&&u(o),c=!1,sl(r)}}}function xl(t){let e,s,l=t[34]+"",o;return{c(){e=_("option"),s=S("Floor "),o=S(l),this.h()},l(i){e=v(i,"OPTION",{});var c=m(e);s=R(c,"Floor "),o=R(c,l),c.forEach(u),this.h()},h(){e.__value=t[10],e.value=e.__value},m(i,c){w(i,e,c),a(e,s),a(e,o)},p:st,d(i){i&&u(e)}}}function es(t){let e,s,l,o,i,c=t[8].errors,r=[];for(let n=0;n<c.length;n+=1)r[n]=ts(Wl(t,c,n));return{c(){e=_("h2"),s=S("Errors"),l=L(),o=_("div"),i=_("div");for(let n=0;n<r.length;n+=1)r[n].c();this.h()},l(n){e=v(n,"H2",{});var E=m(e);s=R(E,"Errors"),E.forEach(u),l=I(n),o=v(n,"DIV",{class:!0});var h=m(o);i=v(h,"DIV",{class:!0});var f=m(i);for(let p=0;p<r.length;p+=1)r[p].l(f);f.forEach(u),h.forEach(u),this.h()},h(){g(i,"class","alerts svelte-10yay1t"),g(o,"class","row svelte-10yay1t")},m(n,E){w(n,e,E),a(e,s),w(n,l,E),w(n,o,E),a(o,i);for(let h=0;h<r.length;h+=1)r[h]&&r[h].m(i,null)},p(n,E){if(E[0]&256){c=n[8].errors;let h;for(h=0;h<c.length;h+=1){const f=Wl(n,c,h);r[h]?r[h].p(f,E):(r[h]=ts(f),r[h].c(),r[h].m(i,null))}for(;h<r.length;h+=1)r[h].d(1);r.length=c.length}},d(n){n&&u(e),n&&u(l),n&&u(o),pe(r,n)}}}function ts(t){let e,s=t[31]+"",l;return{c(){e=_("div"),l=S(s),this.h()},l(o){e=v(o,"DIV",{class:!0});var i=m(e);l=R(i,s),i.forEach(u),this.h()},h(){g(e,"class","alert error svelte-10yay1t")},m(o,i){w(o,e,i),a(e,l)},p(o,i){i[0]&256&&s!==(s=o[31]+"")&&Z(l,s)},d(o){o&&u(e)}}}function ls(t){let e,s,l=t[28].name+"",o,i,c,r=t[28].value+"",n,E,h,f=t[28].limit+"",p,d,b,H=t[28].level+"",K,B;return{c(){e=_("tr"),s=_("td"),o=S(l),i=L(),c=_("td"),n=S(r),E=L(),h=_("td"),p=S(f),d=L(),b=_("td"),K=S(H),B=L(),this.h()},l(M){e=v(M,"TR",{class:!0});var O=m(e);s=v(O,"TD",{class:!0});var P=m(s);o=R(P,l),P.forEach(u),i=I(O),c=v(O,"TD",{class:!0});var x=m(c);n=R(x,r),x.forEach(u),E=I(O),h=v(O,"TD",{class:!0});var C=m(h);p=R(C,f),C.forEach(u),d=I(O),b=v(O,"TD",{class:!0});var q=m(b);K=R(q,H),q.forEach(u),B=I(O),O.forEach(u),this.h()},h(){g(s,"class","svelte-10yay1t"),g(c,"class","svelte-10yay1t"),g(h,"class","svelte-10yay1t"),g(b,"class","svelte-10yay1t"),g(e,"class","svelte-10yay1t"),he(e,"max",t[28].level===t[8].levelRequirements[0].level)},m(M,O){w(M,e,O),a(e,s),a(s,o),a(e,i),a(e,c),a(c,n),a(e,E),a(e,h),a(h,p),a(e,d),a(e,b),a(b,K),a(e,B)},p(M,O){O[0]&256&&l!==(l=M[28].name+"")&&Z(o,l),O[0]&256&&r!==(r=M[28].value+"")&&Z(n,r),O[0]&256&&f!==(f=M[28].limit+"")&&Z(p,f),O[0]&256&&H!==(H=M[28].level+"")&&Z(K,H),O[0]&256&&he(e,"max",M[28].level===M[8].levelRequirements[0].level)},d(M){M&&u(e)}}}function ss(t){let e,s,l=t[24].name+"",o,i,c,r=t[24].minLvl+"",n,E,h,f=t[24].cost+"",p,d,b,H=(t[25].length||"-")+"",K,B,M,O=(t[25].length>0?t[25].length*t[24].cost:"-")+"",P,x;return{c(){e=_("tr"),s=_("td"),o=S(l),i=L(),c=_("td"),n=S(r),E=L(),h=_("td"),p=S(f),d=L(),b=_("td"),K=S(H),B=L(),M=_("td"),P=S(O),x=L(),this.h()},l(C){e=v(C,"TR",{class:!0});var q=m(e);s=v(q,"TD",{class:!0});var ue=m(s);o=R(ue,l),ue.forEach(u),i=I(q),c=v(q,"TD",{class:!0});var te=m(c);n=R(te,r),te.forEach(u),E=I(q),h=v(q,"TD",{class:!0});var le=m(h);p=R(le,f),le.forEach(u),d=I(q),b=v(q,"TD",{class:!0});var D=m(b);K=R(D,H),D.forEach(u),B=I(q),M=v(q,"TD",{class:!0});var N=m(M);P=R(N,O),N.forEach(u),x=I(q),q.forEach(u),this.h()},h(){g(s,"class","svelte-10yay1t"),g(c,"class","number svelte-10yay1t"),g(h,"class","number svelte-10yay1t"),g(b,"class","number svelte-10yay1t"),g(M,"class","number svelte-10yay1t"),g(e,"class","svelte-10yay1t")},m(C,q){w(C,e,q),a(e,s),a(s,o),a(e,i),a(e,c),a(c,n),a(e,E),a(e,h),a(h,p),a(e,d),a(e,b),a(b,K),a(e,B),a(e,M),a(M,P),a(e,x)},p(C,q){q[0]&256&&l!==(l=C[24].name+"")&&Z(o,l),q[0]&256&&r!==(r=C[24].minLvl+"")&&Z(n,r),q[0]&256&&f!==(f=C[24].cost+"")&&Z(p,f),q[0]&256&&H!==(H=(C[25].length||"-")+"")&&Z(K,H),q[0]&256&&O!==(O=(C[25].length>0?C[25].length*C[24].cost:"-")+"")&&Z(P,O)},d(C){C&&u(e)}}}function ks(t){var al;let e,s,l,o,i,c,r,n,E,h,f,p,d,b,H,K,B,M,O,P,x,C,q,ue,te,le,D,N,Q,dt,_t,Ee,je=t[8].totalPrice+"",ot,vt,Ze,mt,ae,ke,pt,yt,de,Ke=t[8].extent[0]+"",at,gt,Qe=t[8].extent[1]+"",rt,bt,Je,Et,re,Te,kt,Tt,Le,ze=((al=t[8].levelRequirements[0])==null?void 0:al.level)+"",nt,Lt,$e,It,xe,St,Rt,Ie,_e,et,se,Se,Dt,Nt,Re,Ot,Pt,De,qt,Mt,Ne,Vt,wt,Oe,Ht,tt,Ct,Yt,Pe,ve,lt,ee,qe,Wt,Bt,Me,At,Ut,Ve,Xt,Ft,we,Gt,jt,He,Zt,Kt,Ce,Qt,ol,Ye=t[9],A=[];for(let y=0;y<Ye.length;y+=1)A[y]=Ql(Ul(t,Ye,y));let G=t[2]!==null&&t[3]!==null&&Jl($t(t)),We=ge,U=[];for(let y=0;y<We.length;y+=1)U[y]=xl(Bl(t,We,y));let j=t[8].errors.length>0&&es(t),Be=t[8].levelRequirements,X=[];for(let y=0;y<Be.length;y+=1)X[y]=ls(Yl(t,Be,y));let Ae=t[8].groupedRooms,F=[];for(let y=0;y<Ae.length;y+=1)F[y]=ss(Cl(t,Ae,y));return{c(){e=_("div"),s=_("div");for(let y=0;y<A.length;y+=1)A[y].c();l=L(),G&&G.c(),o=L(),i=_("div"),c=_("div"),r=_("button"),n=_("i"),h=L(),f=_("select");for(let y=0;y<U.length;y+=1)U[y].c();p=L(),d=_("button"),b=_("i"),K=L(),B=_("button"),M=_("i"),O=L(),P=_("div"),j&&j.c(),x=L(),C=_("h2"),q=S("Info"),ue=L(),te=_("div"),le=_("table"),D=_("tbody"),N=_("tr"),Q=_("td"),dt=S("Cost"),_t=L(),Ee=_("td"),ot=S(je),vt=L(),Ze=_("td"),mt=L(),ae=_("tr"),ke=_("td"),pt=S("Extent"),yt=L(),de=_("td"),at=S(Ke),gt=S("x"),rt=S(Qe),bt=L(),Je=_("td"),Et=L(),re=_("tr"),Te=_("td"),kt=S("Min Level"),Tt=L(),Le=_("td"),nt=S(ze),Lt=L(),$e=_("td"),It=L(),xe=_("h2"),St=S("Requirements"),Rt=L(),Ie=_("div"),_e=_("table"),et=_("thead"),se=_("tr"),Se=_("th"),Dt=S("Requirement"),Nt=L(),Re=_("th"),Ot=S("Current"),Pt=L(),De=_("th"),qt=S("Limit"),Mt=L(),Ne=_("th"),Vt=S("Min. Level"),wt=L(),Oe=_("tbody");for(let y=0;y<X.length;y+=1)X[y].c();Ht=L(),tt=_("h2"),Ct=S("Rooms"),Yt=L(),Pe=_("div"),ve=_("table"),lt=_("thead"),ee=_("tr"),qe=_("th"),Wt=S("Type"),Bt=L(),Me=_("th"),At=S("Level"),Ut=L(),Ve=_("th"),Xt=S("Cost"),Ft=L(),we=_("th"),Gt=S("Amount"),jt=L(),He=_("th"),Zt=S("Total"),Kt=L(),Ce=_("tbody");for(let y=0;y<F.length;y+=1)F[y].c();this.h()},l(y){e=v(y,"DIV",{class:!0});var Y=m(e);s=v(Y,"DIV",{class:!0});var V=m(s);for(let J=0;J<A.length;J+=1)A[J].l(V);l=I(V),G&&G.l(V),V.forEach(u),Y.forEach(u),o=I(y),i=v(y,"DIV",{class:!0});var k=m(i);c=v(k,"DIV",{class:!0});var W=m(c);r=v(W,"BUTTON",{class:!0});var rl=m(r);n=v(rl,"I",{class:!0}),m(n).forEach(u),rl.forEach(u),h=I(W),f=v(W,"SELECT",{class:!0});var nl=m(f);for(let J=0;J<U.length;J+=1)U[J].l(nl);nl.forEach(u),p=I(W),d=v(W,"BUTTON",{class:!0});var il=m(d);b=v(il,"I",{class:!0}),m(b).forEach(u),il.forEach(u),K=I(W),B=v(W,"BUTTON",{class:!0});var cl=m(B);M=v(cl,"I",{class:!0}),m(M).forEach(u),cl.forEach(u),W.forEach(u),O=I(k),P=v(k,"DIV",{class:!0});var z=m(P);j&&j.l(z),x=I(z),C=v(z,"H2",{});var hl=m(C);q=R(hl,"Info"),hl.forEach(u),ue=I(z),te=v(z,"DIV",{class:!0});var fl=m(te);le=v(fl,"TABLE",{class:!0});var ul=m(le);D=v(ul,"TBODY",{});var Ue=m(D);N=v(Ue,"TR",{class:!0});var Xe=m(N);Q=v(Xe,"TD",{class:!0});var dl=m(Q);dt=R(dl,"Cost"),dl.forEach(u),_t=I(Xe),Ee=v(Xe,"TD",{class:!0});var _l=m(Ee);ot=R(_l,je),_l.forEach(u),vt=I(Xe),Ze=v(Xe,"TD",{class:!0}),m(Ze).forEach(u),Xe.forEach(u),mt=I(Ue),ae=v(Ue,"TR",{class:!0});var Fe=m(ae);ke=v(Fe,"TD",{class:!0});var vl=m(ke);pt=R(vl,"Extent"),vl.forEach(u),yt=I(Fe),de=v(Fe,"TD",{class:!0});var it=m(de);at=R(it,Ke),gt=R(it,"x"),rt=R(it,Qe),it.forEach(u),bt=I(Fe),Je=v(Fe,"TD",{class:!0}),m(Je).forEach(u),Fe.forEach(u),Et=I(Ue),re=v(Ue,"TR",{class:!0});var Ge=m(re);Te=v(Ge,"TD",{class:!0});var ml=m(Te);kt=R(ml,"Min Level"),ml.forEach(u),Tt=I(Ge),Le=v(Ge,"TD",{class:!0});var pl=m(Le);nt=R(pl,ze),pl.forEach(u),Lt=I(Ge),$e=v(Ge,"TD",{class:!0}),m($e).forEach(u),Ge.forEach(u),Ue.forEach(u),ul.forEach(u),fl.forEach(u),It=I(z),xe=v(z,"H2",{});var yl=m(xe);St=R(yl,"Requirements"),yl.forEach(u),Rt=I(z),Ie=v(z,"DIV",{class:!0});var gl=m(Ie);_e=v(gl,"TABLE",{class:!0});var ct=m(_e);et=v(ct,"THEAD",{});var bl=m(et);se=v(bl,"TR",{});var me=m(se);Se=v(me,"TH",{class:!0});var El=m(Se);Dt=R(El,"Requirement"),El.forEach(u),Nt=I(me),Re=v(me,"TH",{class:!0});var kl=m(Re);Ot=R(kl,"Current"),kl.forEach(u),Pt=I(me),De=v(me,"TH",{class:!0});var Tl=m(De);qt=R(Tl,"Limit"),Tl.forEach(u),Mt=I(me),Ne=v(me,"TH",{class:!0});var Ll=m(Ne);Vt=R(Ll,"Min. Level"),Ll.forEach(u),me.forEach(u),bl.forEach(u),wt=I(ct),Oe=v(ct,"TBODY",{});var Il=m(Oe);for(let J=0;J<X.length;J+=1)X[J].l(Il);Il.forEach(u),ct.forEach(u),gl.forEach(u),Ht=I(z),tt=v(z,"H2",{});var Sl=m(tt);Ct=R(Sl,"Rooms"),Sl.forEach(u),Yt=I(z),Pe=v(z,"DIV",{class:!0});var Rl=m(Pe);ve=v(Rl,"TABLE",{class:!0});var ht=m(ve);lt=v(ht,"THEAD",{});var Dl=m(lt);ee=v(Dl,"TR",{});var ne=m(ee);qe=v(ne,"TH",{class:!0});var Nl=m(qe);Wt=R(Nl,"Type"),Nl.forEach(u),Bt=I(ne),Me=v(ne,"TH",{class:!0});var Ol=m(Me);At=R(Ol,"Level"),Ol.forEach(u),Ut=I(ne),Ve=v(ne,"TH",{class:!0});var Pl=m(Ve);Xt=R(Pl,"Cost"),Pl.forEach(u),Ft=I(ne),we=v(ne,"TH",{class:!0});var ql=m(we);Gt=R(ql,"Amount"),ql.forEach(u),jt=I(ne),He=v(ne,"TH",{class:!0});var Ml=m(He);Zt=R(Ml,"Total"),Ml.forEach(u),ne.forEach(u),Dl.forEach(u),Kt=I(ht),Ce=v(ht,"TBODY",{});var Vl=m(Ce);for(let J=0;J<F.length;J+=1)F[J].l(Vl);Vl.forEach(u),ht.forEach(u),Rl.forEach(u),z.forEach(u),k.forEach(u),this.h()},h(){g(s,"class","grid svelte-10yay1t"),g(e,"class","map svelte-10yay1t"),g(n,"class","icofont-arrow-up"),r.disabled=E=t[10]>=ll,g(r,"class","svelte-10yay1t"),g(f,"class","svelte-10yay1t"),t[0]===void 0&&hs(()=>t[18].call(f)),g(b,"class","icofont-arrow-down"),d.disabled=H=t[10]<=tl,g(d,"class","svelte-10yay1t"),g(M,"class","icofont-ui-delete"),g(B,"class","svelte-10yay1t"),g(c,"class","floor-controls svelte-10yay1t"),g(Q,"class","svelte-10yay1t"),g(Ee,"class","svelte-10yay1t"),g(Ze,"class","svelte-10yay1t"),g(N,"class","svelte-10yay1t"),g(ke,"class","svelte-10yay1t"),g(de,"class","svelte-10yay1t"),g(Je,"class","svelte-10yay1t"),g(ae,"class","svelte-10yay1t"),g(Te,"class","svelte-10yay1t"),g(Le,"class","svelte-10yay1t"),g($e,"class","svelte-10yay1t"),g(re,"class","svelte-10yay1t"),g(le,"class","svelte-10yay1t"),g(te,"class","row svelte-10yay1t"),g(Se,"class","svelte-10yay1t"),g(Re,"class","svelte-10yay1t"),g(De,"class","svelte-10yay1t"),g(Ne,"class","svelte-10yay1t"),g(_e,"class","svelte-10yay1t"),g(Ie,"class","row svelte-10yay1t"),g(qe,"class","svelte-10yay1t"),g(Me,"class","svelte-10yay1t"),g(Ve,"class","svelte-10yay1t"),g(we,"class","svelte-10yay1t"),g(He,"class","svelte-10yay1t"),g(ve,"class","svelte-10yay1t"),g(Pe,"class","row svelte-10yay1t"),g(P,"class","stats svelte-10yay1t"),g(i,"class","sidebar svelte-10yay1t")},m(y,Y){w(y,e,Y),a(e,s);for(let V=0;V<A.length;V+=1)A[V]&&A[V].m(s,null);a(s,l),G&&G.m(s,null),w(y,o,Y),w(y,i,Y),a(i,c),a(c,r),a(r,n),a(c,h),a(c,f);for(let V=0;V<U.length;V+=1)U[V]&&U[V].m(f,null);ft(f,t[0],!0),a(c,p),a(c,d),a(d,b),a(c,K),a(c,B),a(B,M),a(i,O),a(i,P),j&&j.m(P,null),a(P,x),a(P,C),a(C,q),a(P,ue),a(P,te),a(te,le),a(le,D),a(D,N),a(N,Q),a(Q,dt),a(N,_t),a(N,Ee),a(Ee,ot),a(N,vt),a(N,Ze),a(D,mt),a(D,ae),a(ae,ke),a(ke,pt),a(ae,yt),a(ae,de),a(de,at),a(de,gt),a(de,rt),a(ae,bt),a(ae,Je),a(D,Et),a(D,re),a(re,Te),a(Te,kt),a(re,Tt),a(re,Le),a(Le,nt),a(re,Lt),a(re,$e),a(P,It),a(P,xe),a(xe,St),a(P,Rt),a(P,Ie),a(Ie,_e),a(_e,et),a(et,se),a(se,Se),a(Se,Dt),a(se,Nt),a(se,Re),a(Re,Ot),a(se,Pt),a(se,De),a(De,qt),a(se,Mt),a(se,Ne),a(Ne,Vt),a(_e,wt),a(_e,Oe);for(let V=0;V<X.length;V+=1)X[V]&&X[V].m(Oe,null);a(P,Ht),a(P,tt),a(tt,Ct),a(P,Yt),a(P,Pe),a(Pe,ve),a(ve,lt),a(lt,ee),a(ee,qe),a(qe,Wt),a(ee,Bt),a(ee,Me),a(Me,At),a(ee,Ut),a(ee,Ve),a(Ve,Xt),a(ee,Ft),a(ee,we),a(we,Gt),a(ee,jt),a(ee,He),a(He,Zt),a(ve,Kt),a(ve,Ce);for(let V=0;V<F.length;V+=1)F[V]&&F[V].m(Ce,null);Qt||(ol=[oe(r,"click",ut(t[17])),oe(f,"change",t[18]),oe(d,"click",ut(t[19])),oe(B,"click",t[20]),oe(i,"click",t[21]),oe(i,"keypress",t[22])],Qt=!0)},p(y,Y){var V;if(Y[0]&543){Ye=y[9];let k;for(k=0;k<Ye.length;k+=1){const W=Ul(y,Ye,k);A[k]?A[k].p(W,Y):(A[k]=Ql(W),A[k].c(),A[k].m(s,l))}for(;k<A.length;k+=1)A[k].d(1);A.length=Ye.length}if(y[2]!==null&&y[3]!==null?G?G.p($t(y),Y):(G=Jl($t(y)),G.c(),G.m(s,null)):G&&(G.d(1),G=null),Y[0]&1024&&E!==(E=y[10]>=ll)&&(r.disabled=E),Y&0){We=ge;let k;for(k=0;k<We.length;k+=1){const W=Bl(y,We,k);U[k]?U[k].p(W,Y):(U[k]=xl(W),U[k].c(),U[k].m(f,null))}for(;k<U.length;k+=1)U[k].d(1);U.length=We.length}if(Y[0]&1&&ft(f,y[0]),Y[0]&1024&&H!==(H=y[10]<=tl)&&(d.disabled=H),y[8].errors.length>0?j?j.p(y,Y):(j=es(y),j.c(),j.m(P,x)):j&&(j.d(1),j=null),Y[0]&256&&je!==(je=y[8].totalPrice+"")&&Z(ot,je),Y[0]&256&&Ke!==(Ke=y[8].extent[0]+"")&&Z(at,Ke),Y[0]&256&&Qe!==(Qe=y[8].extent[1]+"")&&Z(rt,Qe),Y[0]&256&&ze!==(ze=((V=y[8].levelRequirements[0])==null?void 0:V.level)+"")&&Z(nt,ze),Y[0]&256){Be=y[8].levelRequirements;let k;for(k=0;k<Be.length;k+=1){const W=Yl(y,Be,k);X[k]?X[k].p(W,Y):(X[k]=ls(W),X[k].c(),X[k].m(Oe,null))}for(;k<X.length;k+=1)X[k].d(1);X.length=Be.length}if(Y[0]&256){Ae=y[8].groupedRooms;let k;for(k=0;k<Ae.length;k+=1){const W=Cl(y,Ae,k);F[k]?F[k].p(W,Y):(F[k]=ss(W),F[k].c(),F[k].m(Ce,null))}for(;k<F.length;k+=1)F[k].d(1);F.length=Ae.length}},i:st,o:st,d(y){y&&u(e),pe(A,y),G&&G.d(),y&&u(o),y&&u(i),pe(U,y),j&&j.d(),pe(X,y),pe(F,y),Qt=!1,sl(ol)}}}function Ts(t,e,s){let l,o,i,c,r,n,E,h,f;fs(t,_s,D=>s(23,f=D));let p=Math.max(0,ge.indexOf(0)),d=[];us(()=>{s(11,d=ps(f.url.searchParams))});let b=null,H=null;const K=(D,N)=>h(D,N),B=(D,N)=>h(D,N),M=(D,N,Q)=>r(D,N,Q.currentTarget.value),O=(D,N)=>n(D,N),P=(D,N)=>r(D,N,null),x=()=>s(0,p++,p);function C(){p=ds(this),s(0,p)}const q=()=>s(0,p--,p),ue=()=>E(),te=()=>h(null,null),le=()=>h(null,null);return t.$$.update=()=>{t.$$.dirty[0]&1&&s(10,l=ge[p]),t.$$.dirty[0]&2049&&s(7,r=(D,N,Q)=>{Q===null?s(11,d[p][N][D]=null,d):s(11,d[p][N][D]={type:Q,orientation:ye.North},d),Jt(`?${zt(d)}`,{replaceState:!0})}),t.$$.dirty[0]&2049&&s(6,n=(D,N)=>{const Q=d[p][N][D];Q&&(s(11,d[p][N][D]={...Q,orientation:xt(Q.orientation)},d),Jt(`?${zt(d)}`,{replaceState:!0}))}),t.$$.dirty[0]&2049&&s(5,E=()=>{confirm("Are you sure you want to delete all rooms on this floor?")&&(s(11,d[p]=as(),d),Jt(`?${zt(d)}`,{replaceState:!0}))}),t.$$.dirty[0]&2048&&s(1,o=vs(d)),t.$$.dirty[0]&3&&s(9,i=o[p]||[]),t.$$.dirty[0]&2&&s(8,c=ms(o))},s(4,h=(D,N)=>{s(2,b=D),s(3,H=N)}),[p,o,b,H,h,E,n,r,c,i,l,d,K,B,M,O,P,x,C,q,ue,te,le]}class Rs extends ns{constructor(e){super(),is(this,e,Ts,ks,cs,{},null,[-1,-1])}}export{Rs as default};
